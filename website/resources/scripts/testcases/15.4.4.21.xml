<testCollection>
  <!-- adding section element if in the future we want to store information about the -->
  <!-- spec structure in this file, for now the section structure is defined in the   -->
  <!-- sections.js file                                                               -->
  <section name="Chapter - 15.4.4.21" numTests="177">
    <test id="15.4.4.21-0-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTAtMSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMC0xLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIG11c3QgZXhpc3QgYXMgYSBmdW5jdGlvbiIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICB2YXIgZiA9IEFycmF5LnByb3RvdHlwZS5yZWR1Y2U7DQogIGlmICh0eXBlb2YoZikgPT09ICJmdW5jdGlvbiIpIHsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-0-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTAtMiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMC0yLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlLmxlbmd0aCBtdXN0IGJlIDEiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgaWYgKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UubGVuZ3RoID09PSAxKSB7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-1-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS0xIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMS0xLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIHVuZGVmaW5lZCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbCh1bmRlZmluZWQpOyANCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgcmV0dXJuIChlIGluc3RhbmNlb2YgVHlwZUVycm9yKTsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-1-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEtMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gdGhlIE1hdGggb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuICgnW29iamVjdCBNYXRoXScgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBNYXRoLmxlbmd0aCA9IDE7DQogICAgICAgICAgICBNYXRoWzBdID0gMTsNCiAgICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoTWF0aCwgY2FsbGJhY2tmbiwgMSk7DQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBkZWxldGUgTWF0aFswXTsNCiAgICAgICAgICAgIGRlbGV0ZSBNYXRoLmxlbmd0aDsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-1-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEtMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gRGF0ZSBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIERhdGU7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0gbmV3IERhdGUoKTsNCiAgICAgICAgb2JqLmxlbmd0aCA9IDE7DQogICAgICAgIG9ialswXSA9IDE7DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-1-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS0xMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEtMTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gUmVnRXhwIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgUmVnRXhwOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IG5ldyBSZWdFeHAoKTsNCiAgICAgICAgb2JqLmxlbmd0aCA9IDE7DQogICAgICAgIG9ialswXSA9IDE7DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-1-13"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS0xMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEtMTMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gdGhlIEpTT04gb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuICgnW29iamVjdCBKU09OXScgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBKU09OLmxlbmd0aCA9IDE7DQogICAgICAgICAgICBKU09OWzBdID0gMTsNCiAgICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoSlNPTiwgY2FsbGJhY2tmbiwgMSk7DQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBkZWxldGUgSlNPTi5sZW5ndGg7DQogICAgICAgICAgICBkZWxldGUgSlNPTlswXTsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-1-14"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS0xNCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEtMTQuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gRXJyb3Igb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBFcnJvcjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSBuZXcgRXJyb3IoKTsNCiAgICAgICAgb2JqLmxlbmd0aCA9IDE7DQogICAgICAgIG9ialswXSA9IDE7DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-1-15"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS0xNSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEtMTUuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gdGhlIEFyZ3VtZW50cyBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKCdbb2JqZWN0IEFyZ3VtZW50c10nID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSk7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0gKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHM7DQogICAgICAgIH0oImEiLCAiYiIpKTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSk7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-1-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS0yIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMS0yLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIG51bGwiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwobnVsbCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgIHJldHVybiAoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcik7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-1-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS0zIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMS0zLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIGJvb2xlYW4gcHJpbWl0aXZlIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuICBvYmogaW5zdGFuY2VvZiBCb29sZWFuOw0KICAgICAgICB9DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEJvb2xlYW4ucHJvdG90eXBlWzBdID0gdHJ1ZTsNCiAgICAgICAgICAgIEJvb2xlYW4ucHJvdG90eXBlLmxlbmd0aCA9IDE7DQoNCiAgICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoZmFsc2UsIGNhbGxiYWNrZm4sIDEpOw0KDQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBkZWxldGUgQm9vbGVhbi5wcm90b3R5cGVbMF07DQogICAgICAgICAgICBkZWxldGUgQm9vbGVhbi5wcm90b3R5cGUubGVuZ3RoOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-1-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS00IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMS00LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIEJvb2xlYW4gb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBCb29sZWFuOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IG5ldyBCb29sZWFuKHRydWUpOw0KICAgICAgICBvYmoubGVuZ3RoID0gMjsNCiAgICAgICAgb2JqWzBdID0gMTE7DQogICAgICAgIG9ialsxXSA9IDEyOw0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-1-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS01IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMS01LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIG51bWJlciBwcmltaXRpdmUiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE51bWJlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBOdW1iZXIucHJvdG90eXBlWzBdID0gMTsNCiAgICAgICAgICAgIE51bWJlci5wcm90b3R5cGUubGVuZ3RoID0gMTsNCg0KICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbCgyLjUsIGNhbGxiYWNrZm4sIDEpOw0KICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgZGVsZXRlIE51bWJlci5wcm90b3R5cGVbMF07DQogICAgICAgICAgICBkZWxldGUgTnVtYmVyLnByb3RvdHlwZS5sZW5ndGg7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-1-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS02IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMS02LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIE51bWJlciBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE51bWJlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSBuZXcgTnVtYmVyKC0xMjgpOw0KICAgICAgICBvYmoubGVuZ3RoID0gMjsNCiAgICAgICAgb2JqWzBdID0gMTE7DQogICAgICAgIG9ialsxXSA9IDEyOw0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSk7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-1-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS03IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMS03LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIHN0cmluZyBwcmltaXRpdmUiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgU3RyaW5nOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbCgiYWJjIiwgY2FsbGJhY2tmbiwgMSk7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-1-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS04IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMS04LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIFN0cmluZyBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgU3RyaW5nOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IG5ldyBTdHJpbmcoImFiYyIpOw0KDQogICAgICAgIHJldHVybiAgQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSk7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-1-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMS05IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMS05LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIEZ1bmN0aW9uIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRnVuY3Rpb247DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0gZnVuY3Rpb24gKGEsIGIpIHsNCiAgICAgICAgICAgIHJldHVybiBhICsgYjsNCiAgICAgICAgfTsNCiAgICAgICAgb2JqWzBdID0gMTE7DQogICAgICAgIG9ialsxXSA9IDk7DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-10-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTEwLTEiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEwLTEuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgZG9lc24ndCBtdXRhdGUgdGhlIEFycmF5IG9uIHdoaWNoIGl0IGlzIGNhbGxlZCBvbiIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCAgaWR4LCBvYmopDQogIHsNCiAgICByZXR1cm4gMTsNCiAgfQ0KICB2YXIgc3JjQXJyID0gWzEsMiwzLDQsNV07DQogIHNyY0Fyci5yZWR1Y2UoY2FsbGJhY2tmbik7DQogIGlmKHNyY0FyclswXSA9PT0gMSAmJg0KICAgICBzcmNBcnJbMV0gPT09IDIgJiYNCiAgICAgc3JjQXJyWzJdID09PSAzICYmDQogICAgIHNyY0FyclszXSA9PT0gNCAmJg0KICAgICBzcmNBcnJbNF0gPT09IDUpDQogIHsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-10-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTEwLTIiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEwLTIuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgcmVkdWNlcyB0aGUgYXJyYXkgaW4gYXNjZW5kaW5nIG9yZGVyIG9mIGluZGljZXMiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgIGlkeCwgb2JqKQ0KICB7DQogICAgcmV0dXJuIHByZXZWYWwgKyBjdXJWYWw7DQogIH0NCiAgdmFyIHNyY0FyciA9IFsnMScsJzInLCczJywnNCcsJzUnXTsNCiAgaWYoc3JjQXJyLnJlZHVjZShjYWxsYmFja2ZuKSA9PT0gJzEyMzQ1JykNCiAgew0KICAgIHJldHVybiB0cnVlOw0KICB9DQoNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-10-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTEwLTMiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEwLTMuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBzdWJjbGFzc2VkIGFycmF5IG9mIGxlbmd0aCAxIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBbMV07DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICANCiAgZnVuY3Rpb24gY2IoKXt9DQogIGlmKGYucmVkdWNlKGNiKSA9PT0gMSkNCiAgICByZXR1cm4gdHJ1ZTsNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-10-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTEwLTQiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEwLTQuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBzdWJjbGFzc2VkIGFycmF5IHdpdGggbGVuZ3RoIG1vcmUgdGhhbiAxIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBuZXcgQXJyYXkoMSwgMiwgMywgNCk7DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICANCiAgZnVuY3Rpb24gY2IocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iail7cmV0dXJuIHByZXZWYWwgKyBjdXJWYWw7fQ0KICBpZihmLnJlZHVjZShjYikgPT09IDEwKQ0KICAgIHJldHVybiB0cnVlOw0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-10-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTEwLTUiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEwLTUuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgcmVkdWNlcyB0aGUgYXJyYXkgaW4gYXNjZW5kaW5nIG9yZGVyIG9mIGluZGljZXMoaW5pdGlhbHZhbHVlIHByZXNlbnQpIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsICBpZHgsIG9iaikNCiAgew0KICAgIHJldHVybiBwcmV2VmFsICsgY3VyVmFsOw0KICB9DQogIHZhciBzcmNBcnIgPSBbJzEnLCcyJywnMycsJzQnLCc1J107DQogIGlmKHNyY0Fyci5yZWR1Y2UoY2FsbGJhY2tmbiwnMCcpID09PSAnMDEyMzQ1JykNCiAgew0KICAgIHJldHVybiB0cnVlOw0KICB9DQoNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-10-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTEwLTYiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEwLTYuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBzdWJjbGFzc2VkIGFycmF5IHdoZW4gaW5pdGlhbHZhbHVlIHByb3ZpZGVkIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBbMSwyLDMsNF07DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICANCiAgZnVuY3Rpb24gY2IocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iail7cmV0dXJuIHByZXZWYWwgKyBjdXJWYWw7fQ0KICBpZihmLnJlZHVjZShjYiwtMSkgPT09IDkpDQogICAgcmV0dXJuIHRydWU7DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-10-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTEwLTciLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEwLTcuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBzdWJjbGFzc2VkIGFycmF5IHdpdGggbGVuZ3RoIDEgYW5kIGluaXRpYWx2YWx1ZSBwcm92aWRlZCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gWzFdOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgDQogIGZ1bmN0aW9uIGNiKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmope3JldHVybiBwcmV2VmFsICsgY3VyVmFsO30NCiAgaWYoZi5yZWR1Y2UoY2IsLTEpID09PSAwKQ0KICAgIHJldHVybiB0cnVlOw0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-10-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTEwLTgiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTEwLTguanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgZG9lc24ndCB2aXNpdCBleHBhbmRvcyIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogIHZhciBjYWxsQ250ID0gMDsNCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsICBpZHgsIG9iaikNCiAgew0KICAgIGNhbGxDbnQrKzsNCiAgICByZXR1cm4gY3VyVmFsOw0KICB9DQogIHZhciBzcmNBcnIgPSBbJzEnLCcyJywnMycsJzQnLCc1J107DQogIHNyY0FyclsiaSJdID0gMTA7DQogIHNyY0Fyclt0cnVlXSA9IDExOw0KICBzcmNBcnIucmVkdWNlKGNhbGxiYWNrZm4pOw0KDQogIGlmKGNhbGxDbnQgPT0gNCkNCiAgew0KICAgIHJldHVybiB0cnVlOw0KICB9DQoNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-2-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0xIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMi0xLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtICdsZW5ndGgnIGlzIG93biBkYXRhIHByb3BlcnR5IG9uIGFuIEFycmF5LWxpa2Ugb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIChvYmoubGVuZ3RoID09PSAyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7DQogICAgICAgICAgICAwOiAxMiwNCiAgICAgICAgICAgIDE6IDExLA0KICAgICAgICAgICAgMjogOSwNCiAgICAgICAgICAgIGxlbmd0aDogMg0KICAgICAgICB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gdHJ1ZTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-2-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTItMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gQXJyYXktbGlrZSBvYmplY3QsICdsZW5ndGgnIGlzIGFuIGluaGVyaXRlZCBhY2Nlc3NvciBwcm9wZXJ0eSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiAob2JqLmxlbmd0aCA9PT0gMik7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgcHJvdG8gPSB7fTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gMjsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdmFyIENvbiA9IGZ1bmN0aW9uICgpIHsgfTsNCiAgICAgICAgQ29uLnByb3RvdHlwZSA9IHByb3RvOw0KDQogICAgICAgIHZhciBjaGlsZCA9IG5ldyBDb24oKTsNCiAgICAgICAgY2hpbGRbMF0gPSAxMjsNCiAgICAgICAgY2hpbGRbMV0gPSAxMTsNCiAgICAgICAgY2hpbGRbMl0gPSA5Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoY2hpbGQsIGNhbGxiYWNrZm4sIDEpID09PSB0cnVlOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-2-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTItMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gQXJyYXktbGlrZSBvYmplY3QsICdsZW5ndGgnIGlzIGFuIG93biBhY2Nlc3NvciBwcm9wZXJ0eSB3aXRob3V0IGEgZ2V0IGZ1bmN0aW9uIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7DQogICAgICAgICAgICAwOiAxMSwNCiAgICAgICAgICAgIDE6IDEyDQogICAgICAgIH07DQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHsgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IDEgJiYgIWFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-2-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0xMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTItMTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2xlbmd0aCcgaXMgb3duIGFjY2Vzc29yIHByb3BlcnR5IHdpdGhvdXQgYSBnZXQgZnVuY3Rpb24gdGhhdCBvdmVycmlkZXMgYW4gaW5oZXJpdGVkIGFjY2Vzc29yIHByb3BlcnR5IG9uIGFuIEFycmF5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICB2YXIgb2JqID0geyAwOiAxMiwgMTogMTEgfTsNCiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7IH0sDQogICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSAxICYmICFhY2Nlc3NlZDsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLmxlbmd0aDsNCiAgICAgICAgfQ0KDQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-2-13"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0xMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTItMTMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gQXJyYXktbGlrZSBvYmplY3QgdGhhdCAnbGVuZ3RoJyBpcyBpbmhlcml0ZWQgYWNjZXNzb3IgcHJvcGVydHkgd2l0aG91dCBhIGdldCBmdW5jdGlvbiIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBwcm90byA9IHt9Ow0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sICJsZW5ndGgiLCB7DQogICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHsgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KICAgICAgICBjaGlsZFswXSA9IDExOw0KICAgICAgICBjaGlsZFsxXSA9IDEyOw0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoY2hpbGQsIGNhbGxiYWNrZm4sIDEpID09PSAxICYmICFhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-2-14"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0xNCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTItMTQuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gdGhlIEFycmF5LWxpa2Ugb2JqZWN0IHRoYXQgJ2xlbmd0aCcgcHJvcGVydHkgZG9lc24ndCBleGlzdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gMSAmJiAhYWNjZXNzZWQ7DQoNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-2-17"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0xNyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTItMTcuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gdGhlIEFyZ3VtZW50cyBvYmplY3QsIHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIChvYmoubGVuZ3RoID09PSAyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24gKGEsIGIpIHsNCiAgICAgICAgICAgIGFyZ3VtZW50c1syXSA9IDk7DQogICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKGFyZ3VtZW50cywgY2FsbGJhY2tmbiwgMSk7DQogICAgICAgIH07DQoNCiAgICAgICAgcmV0dXJuIGZ1bmMoMTIsIDExKSA9PT0gdHJ1ZTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-2-18"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0xOCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTItMTguanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gU3RyaW5nIG9iamVjdCwgd2hpY2ggaW1wbGVtZW50cyBpdHMgb3duIHByb3BlcnR5IGdldCBtZXRob2QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKG9iai5sZW5ndGggPT09IDMpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHN0ciA9IG5ldyBTdHJpbmcoIjAxMiIpOw0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoc3RyLCBjYWxsYmFja2ZuLCAxKSA9PT0gdHJ1ZTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-2-19"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0xOSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTItMTkuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGFwcGxpZWQgdG8gRnVuY3Rpb24gb2JqZWN0LCB3aGljaCBpbXBsZW1lbnRzIGl0cyBvd24gcHJvcGVydHkgZ2V0IG1ldGhvZCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiAob2JqLmxlbmd0aCA9PT0gMik7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgZnVuID0gZnVuY3Rpb24gKGEsIGIpIHsNCiAgICAgICAgICAgIHJldHVybiBhICsgYjsNCiAgICAgICAgfTsNCiAgICAgICAgZnVuWzBdID0gMTI7DQogICAgICAgIGZ1blsxXSA9IDExOw0KICAgICAgICBmdW5bMl0gPSA5Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoZnVuLCBjYWxsYmFja2ZuLCAxKSA9PT0gdHJ1ZTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-2-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0yIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMi0yLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtICdsZW5ndGgnIGlzIG93biBkYXRhIHByb3BlcnR5IG9uIGFuIEFycmF5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIChvYmoubGVuZ3RoID09PSAyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBbMTIsIDExXS5yZWR1Y2UoY2FsbGJhY2tmbiwgMSkgPT09IHRydWU7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-2-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi0zIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMi0zLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtICdsZW5ndGgnIGlzIGFuIG93biBkYXRhIHByb3BlcnR5IHRoYXQgb3ZlcnJpZGVzIGFuIGluaGVyaXRlZCBkYXRhIHByb3BlcnR5IG9uIGFuIEFycmF5LWxpa2Ugb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIChvYmoubGVuZ3RoID09PSAyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBwcm90byA9IHsgbGVuZ3RoOiAzIH07DQoNCiAgICAgICAgdmFyIENvbiA9IGZ1bmN0aW9uICgpIHsgfTsNCiAgICAgICAgQ29uLnByb3RvdHlwZSA9IHByb3RvOw0KDQogICAgICAgIHZhciBjaGlsZCA9IG5ldyBDb24oKTsNCiAgICAgICAgY2hpbGQubGVuZ3RoID0gMjsNCiAgICAgICAgY2hpbGRbMF0gPSAxMjsNCiAgICAgICAgY2hpbGRbMV0gPSAxMTsNCiAgICAgICAgY2hpbGRbMl0gPSA5Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoY2hpbGQsIGNhbGxiYWNrZm4sIDEpID09PSB0cnVlOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-2-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi00IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMi00LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtICdsZW5ndGgnIGlzIG93biBkYXRhIHByb3BlcnR5IHRoYXQgb3ZlcnJpZGVzIGFuIGluaGVyaXRlZCBkYXRhIHByb3BlcnR5IG9uIGFuIEFycmF5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICAgICAgICB2YXIgc3RvcmVQcm90b0xlbmd0aDsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiAob2JqLmxlbmd0aCA9PT0gMik7DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgc3RvcmVQcm90b0xlbmd0aCA9IEFycmF5LnByb3RvdHlwZS5sZW5ndGg7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUubGVuZ3RoID0gMDsNCg0KICAgICAgICAgICAgcmV0dXJuIFsxMiwgMTFdLnJlZHVjZShjYWxsYmFja2ZuLCAxKSA9PT0gdHJ1ZTsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5sZW5ndGggPSBzdG9yZVByb3RvTGVuZ3RoOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-2-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi01IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMi01LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIEFycmF5LWxpa2Ugb2JqZWN0LCAnbGVuZ3RoJyBpcyBhbiBvd24gZGF0YSBwcm9wZXJ0eSB0aGF0IG92ZXJyaWRlcyBhbiBpbmhlcml0ZWQgYWNjZXNzb3IgcHJvcGVydHkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKG9iai5sZW5ndGggPT09IDIpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHByb3RvID0ge307DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIDM7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHZhciBDb24gPSBmdW5jdGlvbiAoKSB7IH07DQogICAgICAgIENvbi5wcm90b3R5cGUgPSBwcm90bzsNCg0KICAgICAgICB2YXIgY2hpbGQgPSBuZXcgQ29uKCk7DQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGlsZCwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIHZhbHVlOiAyLA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KICAgICAgICBjaGlsZFswXSA9IDEyOw0KICAgICAgICBjaGlsZFsxXSA9IDExOw0KICAgICAgICBjaGlsZFsyXSA9IDk7DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChjaGlsZCwgY2FsbGJhY2tmbiwgMSkgPT09IHRydWU7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-2-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi02IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMi02LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIEFycmF5LWxpa2Ugb2JqZWN0LCAnbGVuZ3RoJyBpcyBhbiBpbmhlcml0ZWQgZGF0YSBwcm9wZXJ0eSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiAob2JqLmxlbmd0aCA9PT0gMik7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgcHJvdG8gPSB7IGxlbmd0aDogMiB9Ow0KDQogICAgICAgIHZhciBDb24gPSBmdW5jdGlvbiAoKSB7IH07DQogICAgICAgIENvbi5wcm90b3R5cGUgPSBwcm90bzsNCg0KICAgICAgICB2YXIgY2hpbGQgPSBuZXcgQ29uKCk7DQogICAgICAgIGNoaWxkWzBdID0gMTI7DQogICAgICAgIGNoaWxkWzFdID0gMTE7DQogICAgICAgIGNoaWxkWzJdID0gOTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKGNoaWxkLCBjYWxsYmFja2ZuLCAxKSA9PT0gdHJ1ZTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-2-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi03IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMi03LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIEFycmF5LWxpa2Ugb2JqZWN0LCAnbGVuZ3RoJyBpcyBhbiBvd24gYWNjZXNzb3IgcHJvcGVydHkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKG9iai5sZW5ndGggPT09IDIpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHt9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gMjsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgb2JqWzBdID0gMTI7DQogICAgICAgIG9ialsxXSA9IDExOw0KICAgICAgICBvYmpbMl0gPSA5Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gdHJ1ZTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-2-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi04IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMi04LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIEFycmF5LWxpa2Ugb2JqZWN0LCAnbGVuZ3RoJyBpcyBhbiBvd24gYWNjZXNzb3IgcHJvcGVydHkgdGhhdCBvdmVycmlkZXMgYW4gaW5oZXJpdGVkIGRhdGEgcHJvcGVydHkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKG9iai5sZW5ndGggPT09IDIpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHByb3RvID0geyBsZW5ndGg6IDMgfTsNCg0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGlsZCwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICBjaGlsZFswXSA9IDEyOw0KICAgICAgICBjaGlsZFsxXSA9IDExOw0KICAgICAgICBjaGlsZFsyXSA9IDk7DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChjaGlsZCwgY2FsbGJhY2tmbiwgMSkgPT09IHRydWU7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-2-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMi05IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMi05LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBhcHBsaWVkIHRvIEFycmF5LWxpa2Ugb2JqZWN0LCAnbGVuZ3RoJyBpcyBhbiBvd24gYWNjZXNzb3IgcHJvcGVydHkgdGhhdCBvdmVycmlkZXMgYW4gaW5oZXJpdGVkIGFjY2Vzc29yIHByb3BlcnR5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIChvYmoubGVuZ3RoID09PSAyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBwcm90byA9IHt9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAzOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGlsZCwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICBjaGlsZFswXSA9IDEyOw0KICAgICAgICBjaGlsZFsxXSA9IDExOw0KICAgICAgICBjaGlsZFsyXSA9IDk7DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChjaGlsZCwgY2FsbGJhY2tmbiwgMSkgPT09IHRydWU7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-3-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0xIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMy0xLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHZhbHVlIG9mICdsZW5ndGgnIGlzIHVuZGVmaW5lZCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMCwgMTogMSwgbGVuZ3RoOiB1bmRlZmluZWQgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IDEgJiYgIWFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-3-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgbnVtYmVyIHByaW1pdGl2ZSAodmFsdWUgaXMgTmFOKSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogOSwgbGVuZ3RoOiBOYU4gfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IDEgJiYgIWFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-3-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2xlbmd0aCcgaXMgYSBzdHJpbmcgY29udGFpbmluZyBhIHBvc2l0aXZlIG51bWJlciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiAoY3VyVmFsID09PSAxMSAmJiBpZHggPT09IDEpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMTogMTEsIDI6IDksIGxlbmd0aDogIjIiIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSB0cnVlOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-3-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0xMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2xlbmd0aCcgaXMgYSBzdHJpbmcgY29udGFpbmluZyBhIG5lZ2F0aXZlIG51bWJlciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiAoY3VyVmFsID09PSAxMSAmJiBpZHggPT09IDEpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMTogMTEsIDI6IDksIGxlbmd0aDogIi00Mjk0OTY3Mjk0IiB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gdHJ1ZTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-3-13"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0xMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMTMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2xlbmd0aCcgaXMgYSBzdHJpbmcgY29udGFpbmluZyBhIGRlY2ltYWwgbnVtYmVyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIChjdXJWYWwgPT09IDExICYmIGlkeCA9PT0gMSk7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAxOiAxMSwgMjogOSwgbGVuZ3RoOiAiMi41IiB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gdHJ1ZTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-3-15"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0xNSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMTUuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2xlbmd0aCcgaXMgYSBzdHJpbmcgY29udGFpbmluZyBhbiBleHBvbmVudGlhbCBudW1iZXIiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKGN1clZhbCA9PT0gMTEgJiYgaWR4ID09PSAxKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDE6IDExLCAyOiA5LCBsZW5ndGg6ICIyRTAiIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSB0cnVlOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-3-16"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0xNiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMTYuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2xlbmd0aCcgaXMgYSBzdHJpbmcgY29udGFpbmluZyBhIGhleCBudW1iZXIiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKGN1clZhbCA9PT0gMTEgJiYgaWR4ID09PSAxKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDE6IDExLCAyOiA5LCBsZW5ndGg6ICIweDAwMDIiIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSB0cnVlOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-3-17"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0xNyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMTcuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2xlbmd0aCcgaXMgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlciB3aXRoIGxlYWRpbmcgemVyb3MiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKGN1clZhbCA9PT0gMTEgJiYgaWR4ID09PSAxKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDE6IDExLCAyOiA5LCBsZW5ndGg6ICIwMDAyLjAwIiB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gdHJ1ZTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-3-18"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0xOCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMTguanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYSBzdHJpbmcgdGhhdCBjYW4ndCBjb252ZXJ0IHRvIGEgbnVtYmVyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogOSwgbGVuZ3RoOiAiYXNkZiFfIiB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gMSAmJiAhYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-3-19"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0xOSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMTkuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYW4gT2JqZWN0IHdoaWNoIGhhcyBhbiBvd24gdG9TdHJpbmcgbWV0aG9kIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIChjdXJWYWwgPT09IDExICYmIGlkeCA9PT0gMSk7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0gew0KICAgICAgICAgICAgMTogMTEsDQogICAgICAgICAgICAyOiA5LA0KICAgICAgICAgICAgbGVuZ3RoOiB7DQogICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcyJzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSB0cnVlOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-3-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0yIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMy0yLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHZhbHVlIG9mICdsZW5ndGgnIGlzIGEgYm9vbGVhbiAodmFsdWUgaXMgdHJ1ZSkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKGN1clZhbCA9PT0gMTEgJiYgaWR4ID09PSAwKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiA5LCBsZW5ndGg6IHRydWUgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IHRydWU7DQoNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-3-20"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0yMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMjAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYW4gb2JqZWN0IHdoaWNoIGhhcyBhbiBvd24gdmFsdWVPZiBtZXRob2QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKGN1clZhbCA9PT0gMTEgJiYgaWR4ID09PSAxKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7DQogICAgICAgICAgICAxOiAxMSwNCiAgICAgICAgICAgIDI6IDksDQogICAgICAgICAgICBsZW5ndGg6IHsNCiAgICAgICAgICAgICAgICB2YWx1ZU9mOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IHRydWU7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-3-21"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0yMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMjEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2xlbmd0aCcgaXMgYW4gb2JqZWN0IHRoYXQgaGFzIGFuIG93biB2YWx1ZU9mIG1ldGhvZCB0aGF0IHJldHVybnMgYW4gb2JqZWN0IGFuZCB0b1N0cmluZyBtZXRob2QgdGhhdCByZXR1cm5zIGEgc3RyaW5nIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB2YWx1ZU9mT2NjdXJlZCA9IGZhbHNlOw0KICAgICAgICB2YXIgdG9TdHJpbmdPY2N1cmVkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKGN1clZhbCA9PT0gMTEgJiYgaWR4ID09PSAxKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7DQogICAgICAgICAgICAxOiAxMSwNCiAgICAgICAgICAgIDI6IDksDQogICAgICAgICAgICBsZW5ndGg6IHsNCiAgICAgICAgICAgICAgICB2YWx1ZU9mOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhbHVlT2ZPY2N1cmVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9Ow0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmdPY2N1cmVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcyJzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSB0cnVlICYmIHZhbHVlT2ZPY2N1cmVkICYmIHRvU3RyaW5nT2NjdXJlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-3-22"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0yMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMjIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgZXhjZXB0aW9uIC0gJ2xlbmd0aCcgaXMgYW4gb2JqZWN0IHdpdGggdG9TdHJpbmcgYW5kIHZhbHVlT2YgbWV0aG9kcyB0aGF0IGRvbu+/vXQgcmV0dXJuIHByaW1pdGl2ZSB2YWx1ZXMiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIHZhciB2YWx1ZU9mQWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIHRvU3RyaW5nQWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsNCiAgICAgICAgICAgIDE6IDExLA0KICAgICAgICAgICAgMjogMTIsDQoNCiAgICAgICAgICAgIGxlbmd0aDogew0KICAgICAgICAgICAgICAgIHZhbHVlT2Y6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFsdWVPZkFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9Ow0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmdBY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuIChleCBpbnN0YW5jZW9mIFR5cGVFcnJvcikgJiYgIWFjY2Vzc2VkICYmIHRvU3RyaW5nQWNjZXNzZWQgJiYgdmFsdWVPZkFjY2Vzc2VkOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-3-23"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0yMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMjMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHVzZXMgaW5oZXJpdGVkIHZhbHVlT2YgbWV0aG9kIC0gJ2xlbmd0aCcgaXMgYW4gb2JqZWN0IHdpdGggYW4gb3duIHRvU3RyaW5nIGFuZCBpbmhlcml0ZWQgdmFsdWVPZiBtZXRob2RzIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB2YWx1ZU9mQWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIHRvU3RyaW5nQWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiAoY3VyVmFsID09PSAxMSAmJiBpZHggPT09IDEpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHByb3RvID0gew0KICAgICAgICAgICAgdmFsdWVPZjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHZhbHVlT2ZBY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgcmV0dXJuIDI7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgICAgdmFyIENvbiA9IGZ1bmN0aW9uICgpIHsgfTsNCiAgICAgICAgQ29uLnByb3RvdHlwZSA9IHByb3RvOw0KDQogICAgICAgIHZhciBjaGlsZCA9IG5ldyBDb24oKTsNCg0KICAgICAgICBjaGlsZC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRvU3RyaW5nQWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuICcxJzsNCiAgICAgICAgfTsNCg0KICAgICAgICB2YXIgb2JqID0gew0KICAgICAgICAgICAgMTogMTEsDQogICAgICAgICAgICAyOiA5LA0KICAgICAgICAgICAgbGVuZ3RoOiBjaGlsZA0KICAgICAgICB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gdHJ1ZSAmJiB2YWx1ZU9mQWNjZXNzZWQgJiYgIXRvU3RyaW5nQWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-3-24"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0yNCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMjQuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYSBwb3NpdGl2ZSBub24taW50ZWdlciwgZW5zdXJlIHRydW5jYXRpb24gb2NjdXJzIGluIHRoZSBwcm9wZXIgZGlyZWN0aW9uIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiAoY3VyVmFsID09PSAxMSAmJiBpZHggPT09IDEpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsNCiAgICAgICAgICAgIDE6IDExLA0KICAgICAgICAgICAgMjogOSwNCiAgICAgICAgICAgIGxlbmd0aDogMi42ODUNCiAgICAgICAgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IHRydWU7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-3-25"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0yNSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTMtMjUuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYSBuZWdhdGl2ZSBub24taW50ZWdlciwgZW5zdXJlIHRydW5jYXRpb24gb2NjdXJzIGluIHRoZSBwcm9wZXIgZGlyZWN0aW9uIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIChjdXJWYWwgPT09IDExICYmIGlkeCA9PT0gMSk7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0gew0KICAgICAgICAgICAgMTogMTEsDQogICAgICAgICAgICAyOiA5LA0KICAgICAgICAgICAgbGVuZ3RoOiAtNDI5NDk2NzI5NC41DQogICAgICAgIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSB0cnVlOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-3-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy0zIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMy0zLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHZhbHVlIG9mICdsZW5ndGgnIGlzIGEgbnVtYmVyICh2YWx1ZSBpcyAwKSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMSwgMTogMSwgbGVuZ3RoOiAwIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSAxICYmICFhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-3-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy00IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMy00LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHZhbHVlIG9mICdsZW5ndGgnIGlzIGEgbnVtYmVyICh2YWx1ZSBpcyArMCkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gMjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6ICswIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSAxICYmICFhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-3-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy01IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMy01LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHZhbHVlIG9mICdsZW5ndGgnIGlzIGEgbnVtYmVyICh2YWx1ZSBpcyAtMCkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gMjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IC0wIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSAxICYmICFhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-3-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy02IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMy02LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHZhbHVlIG9mICdsZW5ndGgnIGlzIGEgbnVtYmVyICh2YWx1ZSBpcyBwb3NpdGl2ZSkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKGN1clZhbCA9PT0gMTEgJiYgaWR4ID09PSAxKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDE6IDExLCAyOiA5LCBsZW5ndGg6IDIgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IHRydWU7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-3-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy03IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMy03LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHZhbHVlIG9mICdsZW5ndGgnIGlzIGEgbnVtYmVyICh2YWx1ZSBpcyBuZWdhdGl2ZSkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKGN1clZhbCA9PT0gMTEgJiYgaWR4ID09PSAxKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDE6IDExLCAyOiA5LCBsZW5ndGg6IC00Mjk0OTY3Mjk0IH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSB0cnVlOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-3-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtMy05IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtMy05LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHZhbHVlIG9mICdsZW5ndGgnIGlzIGEgbnVtYmVyICh2YWx1ZSBpcyAtSW5maW5pdHkpIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogOSwgbGVuZ3RoOiAtSW5maW5pdHkgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IDEgJiYgIWFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-4-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTQtMSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNC0xLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgY2FsbGJhY2tmbiBpcyB1bmRlZmluZWQiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICB2YXIgYXJyID0gbmV3IEFycmF5KDEwKTsNCiAgdHJ5IHsNCiAgICBhcnIucmVkdWNlKCk7ICAgIA0KICB9DQogIGNhdGNoKGUpIHsNCiAgICBpZihlIGluc3RhbmNlb2YgVHlwZUVycm9yKQ0KICAgICAgcmV0dXJuIHRydWU7ICANCiAgfQ0KDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-4-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNC0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTQtMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gdGhlIGV4Y2VwdGlvbiBpcyBub3QgdGhyb3duIGlmIGV4Y2VwdGlvbiB3YXMgdGhyb3duIGJ5IHN0ZXAgMiIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgMTogMTIgfTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCB1bmRlZmluZWQpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuICEoZXggaW5zdGFuY2VvZiBUeXBlRXJyb3IpOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-4-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNC0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTQtMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gdGhlIGV4Y2VwdGlvbiBpcyBub3QgdGhyb3duIGlmIGV4Y2VwdGlvbiB3YXMgdGhyb3duIGJ5IHN0ZXAgMyIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgMTogMTIgfTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIHVuZGVmaW5lZCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gY2F0Y2ggKGV4KSB7DQogICAgICAgICAgICByZXR1cm4gIShleCBpbnN0YW5jZW9mIFR5cGVFcnJvcik7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-4-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNC0xMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTQtMTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2NhbGxiYWNrZm4nIGlzIGEgZnVuY3Rpb24iLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIGN1clZhbCA+IDEwOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIFsxMSwgOV0ucmVkdWNlKGNhbGxiYWNrZm4sIDEpID09PSBmYWxzZSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-4-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTQtMiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNC0yLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBSZWZlcmVuY2VFcnJvciBpZiBjYWxsYmFja2ZuIGlzIHVucmVmZXJlbmNlZCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogIHZhciBhcnIgPSBuZXcgQXJyYXkoMTApOw0KICB0cnkgew0KICAgIGFyci5yZWR1Y2UoZm9vKTsgICAgDQogIH0NCiAgY2F0Y2goZSkgew0KICAgIGlmKGUgaW5zdGFuY2VvZiBSZWZlcmVuY2VFcnJvcikNCiAgICAgIHJldHVybiB0cnVlOyAgDQogIH0NCg0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-4-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTQtMyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNC0zLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgY2FsbGJhY2tmbiBpcyBudWxsIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgdmFyIGFyciA9IG5ldyBBcnJheSgxMCk7DQogIHRyeSB7DQogICAgYXJyLnJlZHVjZShudWxsKTsgICAgDQogIH0NCiAgY2F0Y2goZSkgew0KICAgIGlmKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpDQogICAgICByZXR1cm4gdHJ1ZTsgIA0KICB9DQoNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-4-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTQtNCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNC00LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgY2FsbGJhY2tmbiBpcyBib29sZWFuIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgdmFyIGFyciA9IG5ldyBBcnJheSgxMCk7DQogIHRyeSB7DQogICAgYXJyLnJlZHVjZSh0cnVlKTsgICAgDQogIH0NCiAgY2F0Y2goZSkgew0KICAgIGlmKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpDQogICAgICByZXR1cm4gdHJ1ZTsgIA0KICB9DQoNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-4-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTQtNSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNC01LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgY2FsbGJhY2tmbiBpcyBudW1iZXIiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICB2YXIgYXJyID0gbmV3IEFycmF5KDEwKTsNCiAgdHJ5IHsNCiAgICBhcnIucmVkdWNlKDUpOyAgICANCiAgfQ0KICBjYXRjaChlKSB7DQogICAgaWYoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikNCiAgICAgIHJldHVybiB0cnVlOyAgDQogIH0NCg0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-4-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTQtNiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNC02LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgY2FsbGJhY2tmbiBpcyBzdHJpbmciLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICB2YXIgYXJyID0gbmV3IEFycmF5KDEwKTsNCiAgdHJ5IHsNCiAgICBhcnIucmVkdWNlKCJhYmMiKTsgICAgDQogIH0NCiAgY2F0Y2goZSkgew0KICAgIGlmKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpDQogICAgICByZXR1cm4gdHJ1ZTsgIA0KICB9DQoNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-4-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTQtNyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNC03LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgY2FsbGJhY2tmbiBpcyBPYmplY3Qgd2l0aG91dCBbW0NhbGxdXSBpbnRlcm5hbCBtZXRob2QiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICB2YXIgYXJyID0gbmV3IEFycmF5KDEwKTsNCiAgdHJ5IHsNCiAgICBhcnIucmVkdWNlKG5ldyBPYmplY3QoKSk7ICAgIA0KICB9DQogIGNhdGNoKGUpIHsNCiAgICBpZihlIGluc3RhbmNlb2YgVHlwZUVycm9yKQ0KICAgICAgcmV0dXJuIHRydWU7ICANCiAgfQ0KDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-4-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNC04IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNC04LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHNpZGUgZWZmZWN0cyBwcm9kdWNlZCBieSBzdGVwIDIgYXJlIHZpc2libGUgd2hlbiBhbiBleGNlcHRpb24gb2NjdXJzIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiB9Ow0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgcmV0dXJuIDI7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBudWxsKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBjYXRjaCAoZXgpIHsNCiAgICAgICAgICAgIHJldHVybiBleCBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJiBhY2Nlc3NlZDsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-4-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNC05IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNC05LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHNpZGUgZWZmZWN0cyBwcm9kdWNlZCBieSBzdGVwIDMgYXJlIHZpc2libGUgd2hlbiBhbiBleGNlcHRpb24gb2NjdXJzIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiB9Ow0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICIyIjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBudWxsKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBjYXRjaCAoZXgpIHsNCiAgICAgICAgICAgIHJldHVybiBleCBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJiBhY2Nlc3NlZDsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-5-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTUtMSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNS0xLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgJ2xlbmd0aCcgaXMgMCAoZW1wdHkgYXJyYXkpLCBubyBpbml0VmFsIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZ1bmN0aW9uIGNiKCl7fQ0KICANCiAgdHJ5IHsNCiAgICBbXS5yZWR1Y2UoY2IpOw0KICB9DQogIGNhdGNoIChlKSB7DQogICAgaWYgKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfQ0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-5-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNS0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTUtMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gaWYgZXhjZXB0aW9uIG9jY3VycywgaXQgb2NjdXJzIGFmdGVyIGFueSBzaWRlLWVmZmVjdHMgdGhhdCBtaWdodCBiZSBwcm9kdWNlZCBieSBzdGVwIDIiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXR1cm4gKGN1clZhbCA+IDEwKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiB9Ow0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBjYXRjaCAoZXgpIHsNCiAgICAgICAgICAgIHJldHVybiAoZXggaW5zdGFuY2VvZiBUeXBlRXJyb3IpICYmIGFjY2Vzc2VkOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-5-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNS0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTUtMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gaWYgdGhlIGV4Y2VwdGlvbiBvY2N1cnMsIGl0IG9jY3VycyBhZnRlciBhbnkgc2lkZS1lZmZlY3RzIHRoYXQgbWlnaHQgYmUgcHJvZHVjZWQgYnkgc3RlcCAzIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgcmV0dXJuIChjdXJWYWwgPiAxMCk7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgMTogMTIgfTsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiMCI7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbik7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gY2F0Y2ggKGV4KSB7DQogICAgICAgICAgICByZXR1cm4gKGV4IGluc3RhbmNlb2YgVHlwZUVycm9yKSAmJiBhY2Nlc3NlZDsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-5-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNS0xMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTUtMTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gdGhlIGV4Y2VwdGlvbiBpcyBub3QgdGhyb3duIGlmIGV4Y2VwdGlvbiB3YXMgdGhyb3duIGJ5IHN0ZXAgMiIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiAoY3VyVmFsID4gMTApOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIDE6IDEyIH07DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbik7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gY2F0Y2ggKGV4KSB7DQogICAgICAgICAgICByZXR1cm4gIShleCBpbnN0YW5jZW9mIFR5cGVFcnJvcik7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-5-13"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNS0xMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTUtMTMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gdGhlIGV4Y2VwdGlvbiBpcyBub3QgdGhyb3duIGlmIGV4Y2VwdGlvbiB3YXMgdGhyb3duIGJ5IHN0ZXAgMyIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIHJldHVybiAoY3VyVmFsID4gMTApOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIDE6IDEyIH07DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4pOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuICEoZXggaW5zdGFuY2VvZiBUeXBlRXJyb3IpOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-5-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTUtMiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNS0yLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgJ2xlbmd0aCcgaXMgMCAoc3ViY2xhc3NlZCBBcnJheSwgbGVuZ3RoIG92ZXJyaWRkZW4gdG8gbnVsbCAodHlwZSBjb252ZXJzaW9uKSksIG5vIGluaXRWYWwiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIGYubGVuZ3RoID0gbnVsbDsNCiAgDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGYucmVkdWNlKGNiKTsNCiAgfQ0KICBjYXRjaCAoZSkgew0KICAgIGlmIChlIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-5-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTUtMyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNS0zLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgJ2xlbmd0aCcgaXMgMCAoc3ViY2xhc3NlZCBBcnJheSwgbGVuZ3RoIG92ZXJyaWRkZW4gdG8gZmFsc2UgKHR5cGUgY29udmVyc2lvbikpLCBubyBpbml0VmFsIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBuZXcgQXJyYXkoMSwgMiwgMyk7DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICBmLmxlbmd0aCA9IGZhbHNlOw0KICANCiAgZnVuY3Rpb24gY2IoKXt9DQogIHRyeSB7DQogICAgZi5yZWR1Y2UoY2IpOw0KICB9DQogIGNhdGNoIChlKSB7DQogICAgaWYgKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfQ0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-5-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTUtNCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNS00LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgJ2xlbmd0aCcgaXMgMCAoc3ViY2xhc3NlZCBBcnJheSwgbGVuZ3RoIG92ZXJyaWRkZW4gdG8gMCAodHlwZSBjb252ZXJzaW9uKSksIG5vIGluaXRWYWwiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIGYubGVuZ3RoID0gMDsNCiAgDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGYucmVkdWNlKGNiKTsNCiAgfQ0KICBjYXRjaCAoZSkgew0KICAgIGlmIChlIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-5-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTUtNSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNS01LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgJ2xlbmd0aCcgaXMgMCAoc3ViY2xhc3NlZCBBcnJheSwgbGVuZ3RoIG92ZXJyaWRkZW4gdG8gJzAnICh0eXBlIGNvbnZlcnNpb24pKSwgbm8gaW5pdFZhbCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgZi5sZW5ndGggPSAnMCc7DQogIA0KICBmdW5jdGlvbiBjYigpe30NCiAgdHJ5IHsNCiAgICBmLnJlZHVjZShjYik7DQogIH0NCiAgY2F0Y2ggKGUpIHsNCiAgICBpZiAoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikgew0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICB9DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-5-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTUtNiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNS02LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgJ2xlbmd0aCcgaXMgMCAoc3ViY2xhc3NlZCBBcnJheSwgbGVuZ3RoIG92ZXJyaWRkZW4gd2l0aCBvYmogd2l0aCB2YWx1ZU9mKSwgbm8gaW5pdFZhbCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgDQogIHZhciBvID0geyB2YWx1ZU9mOiBmdW5jdGlvbiAoKSB7IHJldHVybiAwO319Ow0KICBmLmxlbmd0aCA9IG87DQogIA0KICBmdW5jdGlvbiBjYigpe30NCiAgdHJ5IHsNCiAgICBmLnJlZHVjZShjYik7DQogIH0NCiAgY2F0Y2ggKGUpIHsNCiAgICBpZiAoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikgew0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICB9DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-5-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTUtNyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNS03LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgJ2xlbmd0aCcgaXMgMCAoc3ViY2xhc3NlZCBBcnJheSwgbGVuZ3RoIG92ZXJyaWRkZW4gd2l0aCBvYmogdy9vIHZhbHVlT2YgKHRvU3RyaW5nKSksIG5vIGluaXRWYWwiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIA0KICB2YXIgbyA9IHsgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcwJzt9fTsNCiAgZi5sZW5ndGggPSBvOw0KICANCiAgLy8gb2JqZWN0cyBpbmhlcml0IHRoZSBkZWZhdWx0IHZhbHVlT2YgbWV0aG9kIG9mIHRoZSBPYmplY3Qgb2JqZWN0Ow0KICAvLyB0aGF0IHNpbXBseSByZXR1cm5zIHRoZSBpdHNlbGYuIFNpbmNlIHRoZSBkZWZhdWx0IHZhbHVlT2YoKSBtZXRob2QNCiAgLy8gZG9lcyBub3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLCBFUyBuZXh0IHRyaWVzIHRvIGNvbnZlcnQgdGhlIG9iamVjdA0KICAvLyB0byBhIG51bWJlciBieSBjYWxsaW5nIGl0cyB0b1N0cmluZygpIG1ldGhvZCBhbmQgY29udmVydGluZyB0aGUNCiAgLy8gcmVzdWx0aW5nIHN0cmluZyB0byBhIG51bWJlci4NCg0KICBmdW5jdGlvbiBjYigpe30NCiAgdHJ5IHsNCiAgICBmLnJlZHVjZShjYik7DQogIH0NCiAgY2F0Y2ggKGUpIHsNCiAgICBpZiAoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikgew0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICB9DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-5-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTUtOCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNS04LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHRocm93cyBUeXBlRXJyb3IgaWYgJ2xlbmd0aCcgaXMgMCAoc3ViY2xhc3NlZCBBcnJheSwgbGVuZ3RoIG92ZXJyaWRkZW4gd2l0aCBbXSksIG5vIGluaXRWYWwiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIA0KICBmLmxlbmd0aCA9IFtdOw0KICANCiAgLy8gb2JqZWN0cyBpbmhlcml0IHRoZSBkZWZhdWx0IHZhbHVlT2YgbWV0aG9kIG9mIHRoZSBPYmplY3Qgb2JqZWN0Ow0KICAvLyB0aGF0IHNpbXBseSByZXR1cm5zIHRoZSBpdHNlbGYuIFNpbmNlIHRoZSBkZWZhdWx0IHZhbHVlT2YoKSBtZXRob2QNCiAgLy8gZG9lcyBub3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLCBFUyBuZXh0IHRyaWVzIHRvIGNvbnZlcnQgdGhlIG9iamVjdA0KICAvLyB0byBhIG51bWJlciBieSBjYWxsaW5nIGl0cyB0b1N0cmluZygpIG1ldGhvZCBhbmQgY29udmVydGluZyB0aGUNCiAgLy8gcmVzdWx0aW5nIHN0cmluZyB0byBhIG51bWJlci4NCiAgLy8NCiAgLy8gVGhlIHRvU3RyaW5nKCApIG1ldGhvZCBvbiBBcnJheSBjb252ZXJ0cyB0aGUgYXJyYXkgZWxlbWVudHMgdG8gc3RyaW5ncywNCiAgLy8gdGhlbiByZXR1cm5zIHRoZSByZXN1bHQgb2YgY29uY2F0ZW5hdGluZyB0aGVzZSBzdHJpbmdzLCB3aXRoIGNvbW1hcyBpbg0KICAvLyBiZXR3ZWVuLiBBbiBhcnJheSB3aXRoIG5vIGVsZW1lbnRzIGNvbnZlcnRzIHRvIHRoZSBlbXB0eSBzdHJpbmcsIHdoaWNoDQogIC8vIGNvbnZlcnRzIHRvIHRoZSBudW1iZXIgMC4gSWYgYW4gYXJyYXkgaGFzIGEgc2luZ2xlIGVsZW1lbnQgdGhhdCBpcyBhDQogIC8vIG51bWJlciBuLCB0aGUgYXJyYXkgY29udmVydHMgdG8gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2Ygbiwgd2hpY2ggaXMNCiAgLy8gdGhlbiBjb252ZXJ0ZWQgYmFjayB0byBuIGl0c2VsZi4gSWYgYW4gYXJyYXkgY29udGFpbnMgbW9yZSB0aGFuIG9uZSBlbGVtZW50LA0KICAvLyBvciBpZiBpdHMgb25lIGVsZW1lbnQgaXMgbm90IGEgbnVtYmVyLCB0aGUgYXJyYXkgY29udmVydHMgdG8gTmFOLg0KDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGYucmVkdWNlKGNiKTsNCiAgfQ0KICBjYXRjaCAoZSkgew0KICAgIGlmIChlIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-5-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNS05IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNS05LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtICdpbml0aWFsVmFsdWUnIGlzIHJldHVybmVkIGlmICdsZW4nIGlzIDAgYW5kICdpbml0aWFsVmFsdWUnIGlzIHByZXNlbnQiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIFtdLnJlZHVjZShjYWxsYmFja2ZuLCAzKSA9PT0gMyAmJiAhYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-7-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTctMSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNy0xLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHJldHVybnMgaW5pdGlhbFZhbHVlIGlmICdsZW5ndGgnIGlzIDAgYW5kIGluaXRpYWxWYWx1ZSBpcyBwcmVzZW50IChlbXB0eSBhcnJheSkiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZnVuY3Rpb24gY2IoKXt9DQogIA0KICB0cnkgew0KICAgIGlmKFtdLnJlZHVjZShjYiwxKSA9PT0gMSkNCiAgICAgIHJldHVybiB0cnVlOw0KICB9DQogIGNhdGNoIChlKSB7ICB9ICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-7-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNy0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTctMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2luaXRpYWxWYWx1ZScgaXMgcHJlc2VudCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgc3RyID0gImluaXRpYWxWYWx1ZSBpcyBwcmVzZW50IjsNCiAgICAgICAgcmV0dXJuIHN0ciA9PT0gW10ucmVkdWNlKGZ1bmN0aW9uICgpIHsgfSwgc3RyKTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-7-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtNy0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTctMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gJ2luaXRpYWxWYWx1ZScgaXMgbm90IHByZXNlbnQiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHN0ciA9ICJpbml0aWFsVmFsdWUgaXMgbm90IHByZXNlbnQiOw0KICAgICAgICByZXR1cm4gc3RyID09PSBbc3RyXS5yZWR1Y2UoZnVuY3Rpb24gKCkgeyB9KTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-7-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTctMiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNy0yLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHJldHVybnMgaW5pdGlhbFZhbHVlIGlmICdsZW5ndGgnIGlzIDAgYW5kIGluaXRpYWxWYWx1ZSBpcyBwcmVzZW50IChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB0byBudWxsICh0eXBlIGNvbnZlcnNpb24pKSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgZi5sZW5ndGggPSBudWxsOw0KICANCiAgZnVuY3Rpb24gY2IoKXt9DQogIHRyeSB7DQogICAgaWYoZi5yZWR1Y2UoY2IsMSkgPT09IDEpDQogICAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KICBjYXRjaCAoZSkgeyAgfSAgDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-7-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTctMyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNy0zLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHJldHVybnMgaW5pdGlhbFZhbHVlIGlmICdsZW5ndGgnIGlzIDAgYW5kIGluaXRpYWxWYWx1ZSBpcyBwcmVzZW50IChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB0byBmYWxzZSAodHlwZSBjb252ZXJzaW9uKSkiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIGYubGVuZ3RoID0gZmFsc2U7DQogIA0KICBmdW5jdGlvbiBjYigpe30NCiAgdHJ5IHsNCiAgICBpZihmLnJlZHVjZShjYiwxKSA9PT0gMSkNCiAgICAgIHJldHVybiB0cnVlOw0KICB9DQogIGNhdGNoIChlKSB7ICB9ICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-7-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTctNCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNy00LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHJldHVybnMgaW5pdGlhbFZhbHVlIGlmICdsZW5ndGgnIGlzIDAgYW5kIGluaXRpYWxWYWx1ZSBpcyBwcmVzZW50IChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB0byAwICh0eXBlIGNvbnZlcnNpb24pKSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgZi5sZW5ndGggPSAwOw0KICANCiAgZnVuY3Rpb24gY2IoKXt9DQogIHRyeSB7DQogICAgaWYoZi5yZWR1Y2UoY2IsMSkgPT09IDEpDQogICAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KICBjYXRjaCAoZSkgeyAgfSAgDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-7-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTctNSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNy01LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHJldHVybnMgaW5pdGlhbFZhbHVlIGlmICdsZW5ndGgnIGlzIDAgYW5kIGluaXRpYWxWYWx1ZSBpcyBwcmVzZW50IChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB0byAnMCcgKHR5cGUgY29udmVyc2lvbikpIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBuZXcgQXJyYXkoMSwgMiwgMyk7DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICBmLmxlbmd0aCA9ICcwJzsNCiAgDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGlmKGYucmVkdWNlKGNiLDEpID09PSAxKQ0KICAgICAgcmV0dXJuIHRydWU7DQogIH0NCiAgY2F0Y2ggKGUpIHsgIH0gIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-7-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTctNiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNy02LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHJldHVybnMgaW5pdGlhbFZhbHVlIGlmICdsZW5ndGgnIGlzIDAgYW5kIGluaXRpYWxWYWx1ZSBpcyBwcmVzZW50IChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB3aXRoIG9iaiB3aXRoIHZhbHVlT2YpIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBuZXcgQXJyYXkoMSwgMiwgMyk7DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICANCiAgdmFyIG8gPSB7IHZhbHVlT2Y6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDA7fX07DQogIGYubGVuZ3RoID0gbzsNCiAgDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGlmKGYucmVkdWNlKGNiLDEpID09PSAxKQ0KICAgICAgcmV0dXJuIHRydWU7DQogIH0NCiAgY2F0Y2ggKGUpIHsgIH0gIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-7-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTctNyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNy03LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHJldHVybnMgaW5pdGlhbFZhbHVlIGlmICdsZW5ndGgnIGlzIDAgYW5kIGluaXRpYWxWYWx1ZSBpcyBwcmVzZW50IChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB3aXRoIG9iaiB3L28gdmFsdWVPZiAodG9TdHJpbmcpKSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgDQogIHZhciBvID0geyB0b1N0cmluZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gJzAnO319Ow0KICBmLmxlbmd0aCA9IG87DQogIA0KICAvLyBvYmplY3RzIGluaGVyaXQgdGhlIGRlZmF1bHQgdmFsdWVPZiBtZXRob2Qgb2YgdGhlIE9iamVjdCBvYmplY3Q7DQogIC8vIHRoYXQgc2ltcGx5IHJldHVybnMgdGhlIGl0c2VsZi4gU2luY2UgdGhlIGRlZmF1bHQgdmFsdWVPZigpIG1ldGhvZA0KICAvLyBkb2VzIG5vdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUsIEVTIG5leHQgdHJpZXMgdG8gY29udmVydCB0aGUgb2JqZWN0DQogIC8vIHRvIGEgbnVtYmVyIGJ5IGNhbGxpbmcgaXRzIHRvU3RyaW5nKCkgbWV0aG9kIGFuZCBjb252ZXJ0aW5nIHRoZQ0KICAvLyByZXN1bHRpbmcgc3RyaW5nIHRvIGEgbnVtYmVyLg0KDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGlmKGYucmVkdWNlKGNiLDEpID09PSAxKQ0KICAgICAgcmV0dXJuIHRydWU7DQogIH0NCiAgY2F0Y2ggKGUpIHsgIH0gIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-7-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTctOCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNy04LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHJldHVybnMgaW5pdGlhbFZhbHVlIGlmICdsZW5ndGgnIGlzIDAgYW5kIGluaXRpYWxWYWx1ZSBpcyBwcmVzZW50IChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB3aXRoIFtdKSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgDQogIGYubGVuZ3RoID0gW107DQogIA0KICAvLyBvYmplY3RzIGluaGVyaXQgdGhlIGRlZmF1bHQgdmFsdWVPZiBtZXRob2Qgb2YgdGhlIE9iamVjdCBvYmplY3Q7DQogIC8vIHRoYXQgc2ltcGx5IHJldHVybnMgdGhlIGl0c2VsZi4gU2luY2UgdGhlIGRlZmF1bHQgdmFsdWVPZigpIG1ldGhvZA0KICAvLyBkb2VzIG5vdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUsIEVTIG5leHQgdHJpZXMgdG8gY29udmVydCB0aGUgb2JqZWN0DQogIC8vIHRvIGEgbnVtYmVyIGJ5IGNhbGxpbmcgaXRzIHRvU3RyaW5nKCkgbWV0aG9kIGFuZCBjb252ZXJ0aW5nIHRoZQ0KICAvLyByZXN1bHRpbmcgc3RyaW5nIHRvIGEgbnVtYmVyLg0KICAvLw0KICAvLyBUaGUgdG9TdHJpbmcoICkgbWV0aG9kIG9uIEFycmF5IGNvbnZlcnRzIHRoZSBhcnJheSBlbGVtZW50cyB0byBzdHJpbmdzLA0KICAvLyB0aGVuIHJldHVybnMgdGhlIHJlc3VsdCBvZiBjb25jYXRlbmF0aW5nIHRoZXNlIHN0cmluZ3MsIHdpdGggY29tbWFzIGluDQogIC8vIGJldHdlZW4uIEFuIGFycmF5IHdpdGggbm8gZWxlbWVudHMgY29udmVydHMgdG8gdGhlIGVtcHR5IHN0cmluZywgd2hpY2gNCiAgLy8gY29udmVydHMgdG8gdGhlIG51bWJlciAwLiBJZiBhbiBhcnJheSBoYXMgYSBzaW5nbGUgZWxlbWVudCB0aGF0IGlzIGENCiAgLy8gbnVtYmVyIG4sIHRoZSBhcnJheSBjb252ZXJ0cyB0byBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBuLCB3aGljaCBpcw0KICAvLyB0aGVuIGNvbnZlcnRlZCBiYWNrIHRvIG4gaXRzZWxmLiBJZiBhbiBhcnJheSBjb250YWlucyBtb3JlIHRoYW4gb25lIGVsZW1lbnQsDQogIC8vIG9yIGlmIGl0cyBvbmUgZWxlbWVudCBpcyBub3QgYSBudW1iZXIsIHRoZSBhcnJheSBjb252ZXJ0cyB0byBOYU4uDQoNCiAgZnVuY3Rpb24gY2IoKXt9DQogIHRyeSB7DQogICAgaWYoZi5yZWR1Y2UoY2IsMSkgPT09IDEpDQogICAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KICBjYXRjaCAoZSkgeyAgfSAgDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-7-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTctOSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtNy05LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHJldHVybnMgaW5pdGlhbFZhbHVlIGlmICdsZW5ndGgnIGlzIDAgYW5kIGluaXRpYWxWYWx1ZSBpcyBwcmVzZW50IChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB3aXRoIFswXSkiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIA0KICBmLmxlbmd0aCA9IFswXTsNCiAgDQogIC8vIG9iamVjdHMgaW5oZXJpdCB0aGUgZGVmYXVsdCB2YWx1ZU9mIG1ldGhvZCBvZiB0aGUgT2JqZWN0IG9iamVjdDsNCiAgLy8gdGhhdCBzaW1wbHkgcmV0dXJucyB0aGUgaXRzZWxmLiBTaW5jZSB0aGUgZGVmYXVsdCB2YWx1ZU9mKCkgbWV0aG9kDQogIC8vIGRvZXMgbm90IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSwgRVMgbmV4dCB0cmllcyB0byBjb252ZXJ0IHRoZSBvYmplY3QNCiAgLy8gdG8gYSBudW1iZXIgYnkgY2FsbGluZyBpdHMgdG9TdHJpbmcoKSBtZXRob2QgYW5kIGNvbnZlcnRpbmcgdGhlDQogIC8vIHJlc3VsdGluZyBzdHJpbmcgdG8gYSBudW1iZXIuDQogIC8vDQogIC8vIFRoZSB0b1N0cmluZyggKSBtZXRob2Qgb24gQXJyYXkgY29udmVydHMgdGhlIGFycmF5IGVsZW1lbnRzIHRvIHN0cmluZ3MsDQogIC8vIHRoZW4gcmV0dXJucyB0aGUgcmVzdWx0IG9mIGNvbmNhdGVuYXRpbmcgdGhlc2Ugc3RyaW5ncywgd2l0aCBjb21tYXMgaW4NCiAgLy8gYmV0d2Vlbi4gQW4gYXJyYXkgd2l0aCBubyBlbGVtZW50cyBjb252ZXJ0cyB0byB0aGUgZW1wdHkgc3RyaW5nLCB3aGljaA0KICAvLyBjb252ZXJ0cyB0byB0aGUgbnVtYmVyIDAuIElmIGFuIGFycmF5IGhhcyBhIHNpbmdsZSBlbGVtZW50IHRoYXQgaXMgYQ0KICAvLyBudW1iZXIgbiwgdGhlIGFycmF5IGNvbnZlcnRzIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIG4sIHdoaWNoIGlzDQogIC8vIHRoZW4gY29udmVydGVkIGJhY2sgdG8gbiBpdHNlbGYuIElmIGFuIGFycmF5IGNvbnRhaW5zIG1vcmUgdGhhbiBvbmUgZWxlbWVudCwNCiAgLy8gb3IgaWYgaXRzIG9uZSBlbGVtZW50IGlzIG5vdCBhIG51bWJlciwgdGhlIGFycmF5IGNvbnZlcnRzIHRvIE5hTi4NCg0KICBmdW5jdGlvbiBjYigpe30NCiAgdHJ5IHsNCiAgICBpZihmLnJlZHVjZShjYiwxKSA9PT0gMSkNCiAgICAgIHJldHVybiB0cnVlOw0KICB9DQogIGNhdGNoIChlKSB7ICB9ICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-8-b-ii-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpLTEiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWItaWktMS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBhZGRlZCBwcm9wZXJ0aWVzIGluIHN0ZXAgMiBhcmUgdmlzaWJsZSBoZXJlIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7IH07DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIG9ialsxXSA9ICJhY2N1bXVsYXRvciI7DQogICAgICAgICAgICAgICAgcmV0dXJuIDM7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBmdW5jdGlvbiAoKSB7IH0pID09PSAiYWNjdW11bGF0b3IiOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-8-b-ii-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpLTIiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWItaWktMi5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBkZWxldGVkIHByb3BlcnRpZXMgaW4gc3RlcCAyIGFyZSB2aXNpYmxlIGhlcmUiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMTogImFjY3VtdWxhdG9yIiwgMjogImFub3RoZXIiIH07DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpbMV07DQogICAgICAgICAgICAgICAgcmV0dXJuIDM7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiAiYWNjdW11bGF0b3IiICE9PSBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBmdW5jdGlvbiAoKSB7IH0pOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-8-b-iii-1-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTEiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWItaWlpLTEtMS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBvd24gZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheS1saWtlIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMCwgMTogMSwgMjogMiwgbGVuZ3RoOiAyIH07DQogICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4pOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-8-b-iii-1-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTIiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWItaWlpLTEtMi5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBvd24gZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGFyciA9IFswLCAxLCAyXTsNCiAgICAgICAgYXJyLnJlZHVjZShjYWxsYmFja2ZuKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-8-b-iii-1-25"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTI1IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOC1iLWlpaS0xLTI1LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIFRoaXMgb2JqZWN0IGlzIHRoZSBBcmd1bWVudHMgb2JqZWN0IHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIChudW1iZXIgb2YgYXJndW1lbnRzIGlzIGxlc3MgdGhhbiBudW1iZXIgb2YgcGFyYW1ldGVycykiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChwcmV2VmFsID09PSAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChhcmd1bWVudHMsIGNhbGxiYWNrZm4pOw0KICAgICAgICB9Ow0KDQogICAgICAgIGZ1bmMoMCwgMSk7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-8-b-iii-1-26"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTI2IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOC1iLWlpaS0xLTI2LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIFRoaXMgb2JqZWN0IGlzIHRoZSBBcmd1bWVudHMgb2JqZWN0IHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIChudW1iZXIgb2YgYXJndW1lbnRzIGVxdWFscyBudW1iZXIgb2YgcGFyYW1ldGVycykiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAyKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChwcmV2VmFsID09PSAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsNCiAgICAgICAgICAgIGRlbGV0ZSBhcmd1bWVudHNbMF07DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoYXJndW1lbnRzLCBjYWxsYmFja2ZuKTsNCiAgICAgICAgfTsNCg0KICAgICAgICBmdW5jKDAsIDEsIDIpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-8-b-iii-1-27"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTI3IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOC1iLWlpaS0xLTI3LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIFRoaXMgb2JqZWN0IGlzIHRoZSBBcmd1bWVudHMgb2JqZWN0IHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIChudW1iZXIgb2YgYXJndW1lbnRzIGlzIGdyZWF0ZXIgdGhhbiBudW1iZXIgb2YgcGFyYW1ldGVycykiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAzKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChwcmV2VmFsID09PSAyKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsNCiAgICAgICAgICAgIGRlbGV0ZSBhcmd1bWVudHNbMF07DQogICAgICAgICAgICBkZWxldGUgYXJndW1lbnRzWzFdOw0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKGFyZ3VtZW50cywgY2FsbGJhY2tmbik7DQogICAgICAgIH07DQoNCiAgICAgICAgZnVuYygwLCAxLCAyLCAzKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-8-b-iii-1-28"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTI4IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOC1iLWlpaS0xLTI4LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGFwcGxpZWQgdG8gU3RyaW5nIG9iamVjdCwgd2hpY2ggaW1wbGVtZW50cyBpdHMgb3duIHByb3BlcnR5IGdldCBtZXRob2QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChwcmV2VmFsID09PSAiMCIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHN0ciA9IG5ldyBTdHJpbmcoIjAxMiIpOw0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoc3RyLCBjYWxsYmFja2ZuKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQoNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-8-b-iii-1-29"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTI5IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOC1iLWlpaS0xLTI5LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGFwcGxpZWQgdG8gRnVuY3Rpb24gb2JqZWN0IHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAocHJldlZhbCA9PT0gMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsNCiAgICAgICAgICAgIHJldHVybiBhICsgYiArIGM7DQogICAgICAgIH07DQogICAgICAgIG9ialswXSA9IDA7DQogICAgICAgIG9ialsxXSA9IDE7DQogICAgICAgIG9ialsyXSA9IDI7DQogICAgICAgIG9ialszXSA9IDM7DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbik7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KDQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-8-b-iii-1-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTMiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWItaWlpLTEtMy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBvd24gZGF0YSBwcm9wZXJ0eSB0aGF0IG92ZXJyaWRlcyBhbiBpbmhlcml0ZWQgZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheS1saWtlIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09ICI5Iik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgcHJvdG8gPSB7IDA6IDAsIDE6IDEsIDI6IDIsIGxlbmd0aDogMyB9Ow0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KICAgICAgICBjaGlsZFswXSA9ICI5IjsNCiAgICAgICAgY2hpbGRbMV0gPSAiMSI7DQogICAgICAgIGNoaWxkLmxlbmd0aCA9IDM7DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKGNoaWxkLCBjYWxsYmFja2ZuKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQoNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-8-b-iii-1-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTQiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWItaWlpLTEtNC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBvd24gZGF0YSBwcm9wZXJ0eSB0aGF0IG92ZXJyaWRlcyBhbiBpbmhlcml0ZWQgZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZVswXSA9ICI5IjsNCiAgICAgICAgICAgIFswLCAxLCAyXS5yZWR1Y2UoY2FsbGJhY2tmbik7DQogICAgICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCg0KICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgZGVsZXRlIEFycmF5LnByb3RvdHlwZVswXTsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-8-b-iii-1-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTciLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWItaWlpLTEtNy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBpbmhlcml0ZWQgZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheS1saWtlIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHByb3RvID0geyAwOiAwLCAxOiAxLCAyOiAyLCBsZW5ndGg6IDMgfTsNCiAgICAgICAgdmFyIENvbiA9IGZ1bmN0aW9uICgpIHsgfTsNCiAgICAgICAgQ29uLnByb3RvdHlwZSA9IHByb3RvOw0KDQogICAgICAgIHZhciBjaGlsZCA9IG5ldyBDb24oKTsNCiAgICAgICAgY2hpbGQubGVuZ3RoID0gMzsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoY2hpbGQsIGNhbGxiYWNrZm4pOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-8-b-iii-1-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1iLWlpaS0xLTgiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWItaWlpLTEtOC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBpbmhlcml0ZWQgZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZVswXSA9IDA7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGVbMV0gPSAxOw0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlWzJdID0gMjsNCiAgICAgICAgICAgIFssICwgLF0ucmVkdWNlKGNhbGxiYWNrZm4pOw0KICAgICAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBkZWxldGUgQXJyYXkucHJvdG90eXBlWzBdOw0KICAgICAgICAgICAgZGVsZXRlIEFycmF5LnByb3RvdHlwZVsxXTsNCiAgICAgICAgICAgIGRlbGV0ZSBBcnJheS5wcm90b3R5cGVbMl07DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKSAmJiAhWywgMV0uaGFzT3duUHJvcGVydHkoMCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-8-c-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTgtYy0xIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWMtMS5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSB0aHJvd3MgVHlwZUVycm9yIHdoZW4gQXJyYXkgaXMgZW1wdHkgYW5kIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJlc2VudCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKQ0KICB7DQogIH0NCg0KICB2YXIgYXJyID0gbmV3IEFycmF5KDEwKTsNCiAgdHJ5IHsNCiAgICBhcnIucmVkdWNlKGNhbGxiYWNrZm4pOw0KICB9IA0KICBjYXRjaChlKSB7DQogICAgaWYoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikNCiAgICAgIHJldHVybiB0cnVlOyAgDQogIH0NCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-8-c-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTgtYy0yIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWMtMi5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSB0aHJvd3MgVHlwZUVycm9yIHdoZW4gZWxlbWVudHMgYXNzaWduZWQgdmFsdWVzIGFyZSBkZWxldGVkIGJ5IHJlZHVjaW5nIGFycmF5IGxlbmd0aCBhbmQgaW5pdGlhbFZhbHVlIGlzIG5vdCBwcmVzZW50IiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7IA0KIA0KICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopDQogIHsNCiAgfQ0KDQogIHZhciBhcnIgPSBuZXcgQXJyYXkoMTApOw0KICBhcnJbOV0gPSAxOw0KICBhcnIubGVuZ3RoID0gNTsNCiAgdHJ5IHsNCiAgICBhcnIucmVkdWNlKGNhbGxiYWNrZm4pOw0KICB9IA0KICBjYXRjaChlKSB7DQogICAgaWYoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikNCiAgICAgIHJldHVybiB0cnVlOyAgDQogIH0NCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-8-c-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTgtYy0zIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWMtMy5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSB0aHJvd3MgVHlwZUVycm9yIHdoZW4gZWxlbWVudHMgYXNzaWduZWQgdmFsdWVzIGFyZSBkZWxldGVkIGFuZCBpbml0aWFsVmFsdWUgaXMgbm90IHByZXNlbnQiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsgDQogDQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikNCiAgew0KICB9DQoNCiAgdmFyIGFyciA9IFsxLDIsMyw0LDVdOw0KICBkZWxldGUgYXJyWzBdOw0KICBkZWxldGUgYXJyWzFdOw0KICBkZWxldGUgYXJyWzJdOw0KICBkZWxldGUgYXJyWzNdOw0KICBkZWxldGUgYXJyWzRdOw0KICB0cnkgew0KICAgIGFyci5yZWR1Y2UoY2FsbGJhY2tmbik7DQogIH0gDQogIGNhdGNoKGUpIHsNCiAgICBpZihlIGluc3RhbmNlb2YgVHlwZUVycm9yKQ0KICAgICAgcmV0dXJuIHRydWU7ICANCiAgfQ0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-8-c-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1jLTQiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWMtNC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgZG9lc24ndCB0aHJvdyBlcnJvciB3aGVuIGFycmF5IGhhcyBubyBvd24gcHJvcGVydGllcyBidXQgcHJvdG90eXBlIGNvbnRhaW5zIGEgc2luZ2xlIHByb3BlcnR5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhcnIgPSBbLCAsICwgXTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlWzFdID0gInByb3RvdHlwZSI7DQogICAgICAgICAgICBhcnIucmVkdWNlKGZ1bmN0aW9uICgpIHsgfSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBjYXRjaCAoZXgpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGRlbGV0ZSBBcnJheS5wcm90b3R5cGVbMV07DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKSAmJiAhWywgMV0uaGFzT3duUHJvcGVydHkoMCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-8-c-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1jLTUiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWMtNS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBpZiBleGNlcHRpb24gb2NjdXJzLCBpdCBvY2N1cnMgYWZ0ZXIgYW55IHNpZGUtZWZmZWN0cyB0aGF0IG1pZ2h0IGJlIHByb2R1Y2VkIGJ5IHN0ZXAgMiIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqID0geyB9Ow0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgcmV0dXJuIDI7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBmdW5jdGlvbiAoKSB7IH0pOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuIChleCBpbnN0YW5jZW9mIFR5cGVFcnJvcikgJiYgYWNjZXNzZWQ7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-8-c-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1jLTYiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWMtNi5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBpZiBleGNlcHRpb24gb2NjdXJzLCBpdCBvY2N1cnMgYWZ0ZXIgYW55IHNpZGUtZWZmZWN0cyB0aGF0IG1pZ2h0IGJlIHByb2R1Y2VkIGJ5IHN0ZXAgMyIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqID0ge307DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIjIiOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGZ1bmN0aW9uICgpIHsgfSk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gY2F0Y2ggKGV4KSB7DQogICAgICAgICAgICByZXR1cm4gKGV4IGluc3RhbmNlb2YgVHlwZUVycm9yKSAmJiBhY2Nlc3NlZDsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-8-c-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1jLTciLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWMtNy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSB0aGUgZXhjZXB0aW9uIGlzIG5vdCB0aHJvd24gaWYgZXhjZXB0aW9uIHdhcyB0aHJvd24gYnkgc3RlcCAyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7fTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBmdW5jdGlvbiAoKSB7IH0pOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuICEoZXggaW5zdGFuY2VvZiBUeXBlRXJyb3IpOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-8-c-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOC1jLTgiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS04LWMtOC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSB0aGUgZXhjZXB0aW9uIGlzIG5vdCB0aHJvd24gaWYgZXhjZXB0aW9uIHdhcyB0aHJvd24gYnkgc3RlcCAzIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7fTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGZ1bmN0aW9uICgpIHsgfSk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gY2F0Y2ggKGV4KSB7DQogICAgICAgICAgICByZXR1cm4gIShleCBpbnN0YW5jZW9mIFR5cGVFcnJvcik7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KICAgIGlkOiAiMTUuNC40LjIxLTktMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTktMS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgZG9lc24ndCBjb25zaWRlciBuZXcgZWxlbWVudHMgYWRkZWQgdG8gYXJyYXkgYWZ0ZXIgaXQgaXMgY2FsbGVkIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFycls1XSA9IDY7DQogICAgICAgICAgICBhcnJbMl0gPSAzOw0KICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgKyBjdXJWYWw7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgYXJyID0gWzEsIDIsICwgNCwgJzUnXTsNCiAgICAgICAgcmV0dXJuIGFyci5yZWR1Y2UoY2FsbGJhY2tmbikgPT09ICIxMDUiOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-9-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktMTAiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTktMTAuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgY2FsbGVkIHdpdGggYW4gaW5pdGlhbCB2YWx1ZSBkb2Vzbid0IGNvbnNpZGVyIG5ldyBlbGVtZW50cyBhZGRlZCB0byBhcnJheSBhZnRlciBpdCBpcyBjYWxsZWQiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsgDQogDQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgIGFycls1XSA9IDY7DQogICAgYXJyWzJdID0gMzsgICANCiAgICByZXR1cm4gcHJldlZhbCArIGN1clZhbDsNCiAgfQ0KDQogIHZhciBhcnIgPSBbMSwyLCw0LCc1J107DQogIHJldHVybiBhcnIucmVkdWNlKGNhbGxiYWNrZm4sICIiKSA9PT0gIjEyMzQ1IjsNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-9-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktMiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS0yLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGNvbnNpZGVycyBuZXcgdmFsdWUgb2YgZWxlbWVudHMgaW4gYXJyYXkgYWZ0ZXIgaXQgaXMgY2FsbGVkIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7IA0KIA0KICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopDQogIHsNCiAgICBhcnJbM10gPSAtMjsNCiAgICBhcnJbNF0gPSAtMTsNCiAgICByZXR1cm4gcHJldlZhbCArIGN1clZhbDsNCiAgfQ0KDQogIHZhciBhcnIgPSBbMSwyLDMsNCw1XTsNCiAgaWYoYXJyLnJlZHVjZShjYWxsYmFja2ZuKSA9PT0gMykNCiAgICByZXR1cm4gdHJ1ZTsgIA0KICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-9-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktMyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS0zLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGRvZXNuJ3QgdmlzaXQgZGVsZXRlZCBlbGVtZW50cyBpbiBhcnJheSBhZnRlciB0aGUgY2FsbCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSAgDQogIHsNCiAgICBkZWxldGUgYXJyWzNdOw0KICAgIGRlbGV0ZSBhcnJbNF07DQogICAgcmV0dXJuIHByZXZWYWwgKyBjdXJWYWw7ICAgIA0KICB9DQoNCiAgdmFyIGFyciA9IFsnMScsMiwzLDQsNV07DQogIGlmKGFyci5yZWR1Y2UoY2FsbGJhY2tmbikgPT09ICIxMjMiICApICAgIC8vIHR3byBlbGVtZW50cyBkZWxldGVkDQogICAgcmV0dXJuIHRydWU7ICANCiAgDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktNCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS00LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIGRvZXNuJ3QgdmlzaXQgZGVsZXRlZCBlbGVtZW50cyB3aGVuIEFycmF5Lmxlbmd0aCBpcyBkZWNyZWFzZWQiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsgDQogDQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikNCiAgew0KICAgIGFyci5sZW5ndGggPSAyOw0KICAgIHJldHVybiBwcmV2VmFsICsgY3VyVmFsOw0KICB9DQoNCiAgdmFyIGFyciA9IFsxLDIsMyw0LDVdOw0KICBpZihhcnIucmVkdWNlKGNhbGxiYWNrZm4pID09PSAzICkNCiAgICByZXR1cm4gdHJ1ZTsgIA0KICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-9-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktNSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS01LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gY2FsbGJhY2tmbiBub3QgY2FsbGVkIGZvciBhcnJheSB3aXRoIG9uZSBlbGVtZW50IiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7IA0KIA0KICB2YXIgY2FsbENudCA9IDA7DQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikNCiAgew0KICAgIGNhbGxDbnQrKzsNCiAgICByZXR1cm4gMjsNCiAgfQ0KDQogIHZhciBhcnIgPSBbMV07DQogIGlmKGFyci5yZWR1Y2UoY2FsbGJhY2tmbikgPT09IDEgJiYgY2FsbENudCA9PT0gMCApDQogICAgcmV0dXJuIHRydWU7ICAgIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktNiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS02LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIHZpc2l0cyBkZWxldGVkIGVsZW1lbnQgaW4gYXJyYXkgYWZ0ZXIgdGhlIGNhbGwgd2hlbiBzYW1lIGluZGV4IGlzIGFsc28gcHJlc2VudCBpbiBwcm90b3R5cGUiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsgDQogDQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgIA0KICB7DQogICAgZGVsZXRlIGFyclszXTsNCiAgICBkZWxldGUgYXJyWzRdOw0KICAgIHJldHVybiBwcmV2VmFsICsgY3VyVmFsOyAgICANCiAgfQ0KDQogIEFycmF5LnByb3RvdHlwZVs0XSA9IDU7DQogIHZhciBhcnIgPSBbJzEnLDIsMyw0LDVdOw0KICB2YXIgcmVzID0gYXJyLnJlZHVjZShjYWxsYmFja2ZuKTsNCiAgZGVsZXRlIEFycmF5LnByb3RvdHlwZVs0XTsNCg0KICBpZihyZXMgPT09ICIxMjM1IiAgKSAgICAvL29uZSBlbGVtZW50IGFjdWFsbHkgZGVsZXRlZA0KICAgIHJldHVybiB0cnVlOyAgDQogIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-b-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktYi0xIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWItMS5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSByZXR1cm5zIGluaXRpYWx2YWx1ZSB3aGVuIEFycmF5IGlzIGVtcHR5IGFuZCBpbml0aWFsVmFsdWUgaXMgcHJlc2VudCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKQ0KICB7DQogIH0NCg0KICB2YXIgYXJyID0gbmV3IEFycmF5KDEwKTsNCg0KICBpZihhcnIucmVkdWNlKGNhbGxiYWNrZm4sNSkgPT09IDUpDQogICAgICByZXR1cm4gdHJ1ZTsgIA0KDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-b-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1iLTIiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWItMi5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBhZGRlZCBwcm9wZXJ0aWVzIGluIHN0ZXAgMiBhcmUgdmlzaWJsZSBoZXJlIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihhY2N1bSwgdmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMiAmJiB2YWwgPT09ICIyIikgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHt9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBvYmpbMl0gPSAiMiI7DQogICAgICAgICAgICAgICAgcmV0dXJuIDM7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sICJpbml0aWFsVmFsdWUiKTsNCg0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-b-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1iLTMiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWItMy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBkZWxldGVkIHByb3BlcnRpZXMgaW4gc3RlcCAyIGFyZSB2aXNpYmxlIGhlcmUiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gdHJ1ZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKGFjY3VtLCB2YWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAyKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMjogIjIiLCAzOiAxMCB9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBkZWxldGUgb2JqWzJdOw0KICAgICAgICAgICAgICAgIHJldHVybiA1Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAiaW5pdGlhbFZhbHVlIik7DQoNCiAgICAgICAgcmV0dXJuIGFjY2Vzc2VkICYmIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktYy0xIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtMS5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGNhbGxiYWNrZm4gbm90IGNhbGxlZCBmb3IgaW5kZXhlcyBuZXZlciBiZWVuIGFzc2lnbmVkIHZhbHVlcyIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgdmFyIGNhbGxDbnQgPSAwOw0KICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopDQogIHsNCiAgICBjYWxsQ250Kys7DQogICAgcmV0dXJuIGN1clZhbDsNCiAgfQ0KDQogIHZhciBhcnIgPSBuZXcgQXJyYXkoMTApOw0KICBhcnJbMF0gPSBhcnJbMV0gPSB1bmRlZmluZWQ7IC8vZXhwbGljaXRseSBhc3NpZ25pbmcgYSB2YWx1ZQ0KICBpZiggYXJyLnJlZHVjZShjYWxsYmFja2ZuKSA9PT0gdW5kZWZpbmVkICYmIGNhbGxDbnQgPT09IDEpDQogICAgcmV0dXJuIHRydWU7ICAgIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-i-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTktYy1pLTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gZWxlbWVudCB0byBiZSByZXRyaWV2ZWQgaXMgb3duIGRhdGEgcHJvcGVydHkgb24gYW4gQXJyYXktbGlrZSBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IDA7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAoY3VyVmFsID09PSAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDAsIDE6IDEsIDI6IDIsIGxlbmd0aDogMiB9Ow0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCBpbml0aWFsVmFsdWUpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-i-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTktYy1pLTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gZWxlbWVudCB0byBiZSByZXRyaWV2ZWQgaXMgb3duIGRhdGEgcHJvcGVydHkgb24gYW4gQXJyYXkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IDA7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAoY3VyVmFsID09PSAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBhcnIgPSBbMCwgMV07DQogICAgICAgIGFyci5yZWR1Y2UoY2FsbGJhY2tmbiwgaW5pdGlhbFZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-i-25"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktMjUiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaS0yNS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBUaGlzIG9iamVjdCBpcyB0aGUgQXJndW1lbnRzIG9iamVjdCB3aGljaCBpbXBsZW1lbnRzIGl0cyBvd24gcHJvcGVydHkgZ2V0IG1ldGhvZCAobnVtYmVyIG9mIGFyZ3VtZW50cyBpcyBsZXNzIHRoYW4gbnVtYmVyIG9mIHBhcmFtZXRlcnMpIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSAwOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKGN1clZhbCA9PT0gMSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoYXJndW1lbnRzLCBjYWxsYmFja2ZuLCBpbml0aWFsVmFsdWUpOw0KICAgICAgICB9Ow0KDQogICAgICAgIGZ1bmMoMCwgMSk7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-i-26"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktMjYiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaS0yNi5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBUaGlzIG9iamVjdCBpcyB0aGUgQXJndW1lbnRzIG9iamVjdCB3aGljaCBpbXBsZW1lbnRzIGl0cyBvd24gcHJvcGVydHkgZ2V0IG1ldGhvZCAobnVtYmVyIG9mIGFyZ3VtZW50cyBlcXVhbHMgbnVtYmVyIG9mIHBhcmFtZXRlcnMpIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSAwOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDIpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKGN1clZhbCA9PT0gMik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoYXJndW1lbnRzLCBjYWxsYmFja2ZuLCBpbml0aWFsVmFsdWUpOw0KICAgICAgICB9Ow0KDQogICAgICAgIGZ1bmMoMCwgMSwgMik7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-i-27"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktMjciLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaS0yNy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBUaGlzIG9iamVjdCBpcyB0aGUgQXJndW1lbnRzIG9iamVjdCB3aGljaCBpbXBsZW1lbnRzIGl0cyBvd24gcHJvcGVydHkgZ2V0IG1ldGhvZCAobnVtYmVyIG9mIGFyZ3VtZW50cyBpcyBncmVhdGVyIHRoYW4gbnVtYmVyIG9mIHBhcmFtZXRlcnMpIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSAwOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDMpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKGN1clZhbCA9PT0gMyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoYXJndW1lbnRzLCBjYWxsYmFja2ZuLCBpbml0aWFsVmFsdWUpOw0KICAgICAgICB9Ow0KDQogICAgICAgIGZ1bmMoMCwgMSwgMiwgMyk7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-i-28"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktMjgiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaS0yOC5qcyIsDQogICAgDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gYXBwbGllZCB0byBTdHJpbmcgb2JqZWN0LCB3aGljaCBpbXBsZW1lbnRzIGl0cyBvd24gcHJvcGVydHkgZ2V0IG1ldGhvZCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICB2YXIgaW5pdGlhbFZhbHVlID0gMDsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChjdXJWYWwgPT09ICIxIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgc3RyID0gbmV3IFN0cmluZygiMDEyIik7DQogICAgIA0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoc3RyLCBjYWxsYmFja2ZuLCBpbml0aWFsVmFsdWUpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICAgICAgDQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-i-29"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktMjkiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaS0yOS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBhcHBsaWVkIHRvIEZ1bmN0aW9uIG9iamVjdCB3aGljaCBpbXBsZW1lbnRzIGl0cyBvd24gcHJvcGVydHkgZ2V0IG1ldGhvZCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICB2YXIgaW5pdGlhbFZhbHVlID0gMDsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChjdXJWYWwgPT09IDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7DQogICAgICAgICAgICByZXR1cm4gYSArIGIgKyBjOw0KICAgICAgICB9Ow0KICAgICAgICBvYmpbMF0gPSAwOw0KICAgICAgICBvYmpbMV0gPSAxOw0KICAgICAgICBvYmpbMl0gPSAyOw0KICAgICAgICBvYmpbM10gPSAzOw0KDQogICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIGluaXRpYWxWYWx1ZSk7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-i-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTktYy1pLTMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gZWxlbWVudCB0byBiZSByZXRyaWV2ZWQgaXMgb3duIGRhdGEgcHJvcGVydHkgdGhhdCBvdmVycmlkZXMgYW4gaW5oZXJpdGVkIGRhdGEgcHJvcGVydHkgb24gYW4gQXJyYXktbGlrZSBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IDA7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAoY3VyVmFsID09PSAiMTEiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBwcm90byA9IHsgMDogMCwgMTogMSwgMjogMiwgbGVuZ3RoOiAyIH07DQogICAgICAgIHZhciBDb24gPSBmdW5jdGlvbiAoKSB7IH07DQogICAgICAgIENvbi5wcm90b3R5cGUgPSBwcm90bzsNCg0KICAgICAgICB2YXIgY2hpbGQgPSBuZXcgQ29uKCk7DQogICAgICAgIGNoaWxkWzFdID0gIjExIjsNCiAgICAgICAgY2hpbGRbMl0gPSAiMjIiOw0KICAgICAgICBjaGlsZC5sZW5ndGggPSAzOw0KDQogICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChjaGlsZCwgY2FsbGJhY2tmbiwgaW5pdGlhbFZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQoNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-i-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktNCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTktYy1pLTQuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gZWxlbWVudCB0byBiZSByZXRyaWV2ZWQgaXMgb3duIGRhdGEgcHJvcGVydHkgdGhhdCBvdmVycmlkZXMgYW4gaW5oZXJpdGVkIGRhdGEgcHJvcGVydHkgb24gYW4gQXJyYXkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IDA7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAoY3VyVmFsID09PSAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGVbMV0gPSAiMyI7DQogICAgICAgICAgICBbMCwgMSwgMl0ucmVkdWNlKGNhbGxiYWNrZm4sIGluaXRpYWxWYWx1ZSk7DQogICAgICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGRlbGV0ZSBBcnJheS5wcm90b3R5cGVbMV07DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-i-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktNyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTktYy1pLTcuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gZWxlbWVudCB0byBiZSByZXRyaWV2ZWQgaXMgaW5oZXJpdGVkIGRhdGEgcHJvcGVydHkgb24gYW4gQXJyYXktbGlrZSBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IDA7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAoY3VyVmFsID09PSAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBwcm90byA9IHsgMDogMCwgMTogMSwgMjogMiwgbGVuZ3RoOiAzIH07DQogICAgICAgIHZhciBDb24gPSBmdW5jdGlvbiAoKSB7IH07DQogICAgICAgIENvbi5wcm90b3R5cGUgPSBwcm90bzsNCg0KICAgICAgICB2YXIgY2hpbGQgPSBuZXcgQ29uKCk7DQogICAgICAgIGNoaWxkLmxlbmd0aCA9IDM7DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKGNoaWxkLCBjYWxsYmFja2ZuLCBpbml0aWFsVmFsdWUpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-i-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWktOCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjEvMTUuNC40LjIxLTktYy1pLTguanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlIC0gZWxlbWVudCB0byBiZSByZXRyaWV2ZWQgaXMgaW5oZXJpdGVkIGRhdGEgcHJvcGVydHkgb24gYW4gQXJyYXkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IDA7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAoY3VyVmFsID09PSAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGVbMF0gPSAwOw0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlWzFdID0gMTsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZVsyXSA9IDI7DQogICAgICAgICAgICBbLCAsICwgXS5yZWR1Y2UoY2FsbGJhY2tmbiwgaW5pdGlhbFZhbHVlKTsNCg0KICAgICAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBkZWxldGUgQXJyYXkucHJvdG90eXBlWzBdOw0KICAgICAgICAgICAgZGVsZXRlIEFycmF5LnByb3RvdHlwZVsxXTsNCiAgICAgICAgICAgIGRlbGV0ZSBBcnJheS5wcm90b3R5cGVbMl07DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKSAmJiAhWywgMV0uaGFzT3duUHJvcGVydHkoMCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktYy1paS0xIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaWktMS5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGNhbGxiYWNrZm4gY2FsbGVkIHdpdGggY29ycmVjdCBwYXJhbWV0ZXJzIChpbml0aWFsdmFsdWUgbm90IHBhc3NlZCkiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsgDQogDQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikNCiAgew0KICAgIGlmKGlkeCA+IDAgJiYgb2JqW2lkeF0gPT09IGN1clZhbCAmJiBvYmpbaWR4LTFdID09PSBwcmV2VmFsKQ0KICAgICAgcmV0dXJuIGN1clZhbDsNCiAgICBlbHNlIA0KICAgICAgcmV0dXJuIGZhbHNlOw0KICB9DQoNCiAgdmFyIGFyciA9IFswLDEsdHJ1ZSxudWxsLG5ldyBPYmplY3QoKSwiZml2ZSJdOw0KICBpZiggYXJyLnJlZHVjZShjYWxsYmFja2ZuKSA9PT0gImZpdmUiKSANCiAgICByZXR1cm4gdHJ1ZTsNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTEwIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTEwLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGNhbGxiYWNrZm4gaXMgY2FsbGVkIHdpdGggMSBmb3JtYWwgcGFyYW1ldGVyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsKSB7DQogICAgICAgICAgICByZXN1bHQgPSAocHJldlZhbCA9PT0gMSk7DQogICAgICAgIH0NCg0KICAgICAgICBbMTFdLnJlZHVjZShjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTExIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTExLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGNhbGxiYWNrZm4gaXMgY2FsbGVkIHdpdGggMiBmb3JtYWwgcGFyYW1ldGVyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwpIHsNCiAgICAgICAgICAgIHJlc3VsdCA9IChjdXJWYWwgPiAxMCAmJiAxID09PSBwcmV2VmFsKTsNCiAgICAgICAgfQ0KDQogICAgICAgIFsxMV0ucmVkdWNlKGNhbGxiYWNrZm4sIDEpOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTEyIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTEyLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGNhbGxiYWNrZm4gaXMgY2FsbGVkIHdpdGggMyBmb3JtYWwgcGFyYW1ldGVyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCkgew0KICAgICAgICAgICAgcmVzdWx0ID0gKHByZXZWYWwgPT09IDEgJiYgYXJndW1lbnRzWzNdW2lkeF0gPT09IGN1clZhbCk7DQogICAgICAgIH0NCg0KICAgICAgICBbMTFdLnJlZHVjZShjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-13"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTEzIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTEzLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGNhbGxiYWNrZm4gaXMgY2FsbGVkIHdpdGggNCBmb3JtYWwgcGFyYW1ldGVyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICByZXN1bHQgPSAocHJldlZhbCA9PT0gMSAmJiBvYmpbaWR4XSA9PT0gY3VyVmFsKTsNCiAgICAgICAgfQ0KDQogICAgICAgIFsxMV0ucmVkdWNlKGNhbGxiYWNrZm4sIDEpOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-14"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTE0IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTE0LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGNhbGxiYWNrZm4gdGhhdCB1c2VzIGFyZ3VtZW50cyIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4oKSB7DQogICAgICAgICAgICByZXN1bHQgPSAoYXJndW1lbnRzWzBdID09PSAxICYmIGFyZ3VtZW50c1szXVthcmd1bWVudHNbMl1dID09PSBhcmd1bWVudHNbMV0pOw0KICAgICAgICB9DQoNCiAgICAgICAgWzExXS5yZWR1Y2UoY2FsbGJhY2tmbiwgMSk7DQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-16"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTE2IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTE2LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIG5vbi1pbmRleGVkIHByb3BlcnRpZXMgYXJlIG5vdCBjYWxsZWQiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIHZhciByZXN1bHQxID0gdHJ1ZTsNCiAgICAgICAgdmFyIHJlc3VsdDIgPSB0cnVlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgaWYgKGN1clZhbCA9PT0gOCkgew0KICAgICAgICAgICAgICAgIHJlc3VsdDEgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHByZXZWYWwgPT09IDgpIHsNCiAgICAgICAgICAgICAgICByZXN1bHQyID0gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgMTA6IDEyLCBub25faW5kZXhfcHJvcGVydHk6IDgsIGxlbmd0aDogMjAgfTsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDEgJiYgcmVzdWx0MiAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-17"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTE3IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTE3LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtICdhY2N1bXVsYXRvcicgdXNlZCBmb3IgY3VycmVudCBpdGVyYXRpb24gaXMgdGhlIHJlc3VsdCBvZiBwcmV2aW91cyBpdGVyYXRpb24gb24gYW4gQXJyYXkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7DQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICB2YXIgcHJlSXRlcmF0aW9uID0gMTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICBpZiAocHJlSXRlcmF0aW9uICE9PSBwcmV2VmFsKSB7DQogICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBwcmVJdGVyYXRpb24gPSBjdXJWYWw7DQogICAgICAgICAgICByZXR1cm4gY3VyVmFsOw0KICAgICAgICB9DQoNCiAgICAgICAgWzExLCAxMiwgMTNdLnJlZHVjZShjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdCAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-18"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTE4IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTE4LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHZhbHVlIG9mICdhY2N1bXVsYXRvcicgdXNlZCBmb3IgZmlyc3QgaXRlcmF0aW9uIGlzIHRoZSB2YWx1ZSBvZiAnaW5pdGlhbFZhbHVlJyB3aGVuIGl0IGlzIHByZXNlbnQgb24gYW4gQXJyYXktbGlrZSBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHsNCiAgICAgICAgICAgICAgICByZXN1bHQgPSAoYXJndW1lbnRzWzBdID09PSAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiA5LCBsZW5ndGg6IDIgfTsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-19"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTE5IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTE5LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHZhbHVlIG9mICdhY2N1bXVsYXRvcicgdXNlZCBmb3IgZmlyc3QgaXRlcmF0aW9uIGlzIHRoZSB2YWx1ZSBvZiBsZWFzdCBpbmRleCBwcm9wZXJ0eSB3aGljaCBpcyBub3QgdW5kZWZpbmVkIHdoZW4gJ2luaXRpYWxWYWx1ZScgaXMgbm90IHByZXNlbnQgb24gYW4gQXJyYXkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGNhbGxlZCA9IDA7DQogICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBjYWxsZWQrKzsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICByZXN1bHQgPSAocHJldlZhbCA9PT0gMTEpICYmIGN1clZhbCA9PT0gOTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIFsxMSwgOV0ucmVkdWNlKGNhbGxiYWNrZm4pOw0KICAgICAgICByZXR1cm4gcmVzdWx0ICYmIGNhbGxlZCA9PT0gMTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktYy1paS0yIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaWktMi5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGNhbGxiYWNrZm4gY2FsbGVkIHdpdGggY29ycmVjdCBwYXJhbWV0ZXJzIChpbml0aWFsdmFsdWUgcGFzc2VkKSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgdmFyIGJQYXJDb3JyZWN0ID0gZmFsc2U7DQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikNCiAgew0KICAgIGlmKGlkeCA9PT0gMCAmJiBvYmpbaWR4XSA9PT0gY3VyVmFsICYmIHByZXZWYWwgPT09IGluaXRpYWxWYWx1ZSkNCiAgICAgIHJldHVybiBjdXJWYWw7DQogICAgZWxzZSBpZihpZHggPiAwICYmIG9ialtpZHhdID09PSBjdXJWYWwgJiYgb2JqW2lkeC0xXSA9PT0gcHJldlZhbCkNCiAgICAgIHJldHVybiBjdXJWYWw7DQogICAgZWxzZQ0KICAgICAgcmV0dXJuIGZhbHNlOw0KICB9DQoNCiAgdmFyIGFyciA9IFswLDEsdHJ1ZSxudWxsLG5ldyBPYmplY3QoKSwiZml2ZSJdOw0KICB2YXIgaW5pdGlhbFZhbHVlID0gNS41Ow0KICBpZiggYXJyLnJlZHVjZShjYWxsYmFja2ZuLGluaXRpYWxWYWx1ZSkgPT09ICJmaXZlIikgDQogICAgcmV0dXJuIHRydWU7DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-20"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTIwIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTIwLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHVuZGVmaW5lZCBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gdHlwZW9mIHByZXZWYWwgPT09ICJ1bmRlZmluZWQiOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCB1bmRlZmluZWQpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-21"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTIxIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTIxLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIG51bGwgY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgPT09IG51bGw7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgbGVuZ3RoOiAxIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIG51bGwpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-22"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTIyIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTIyLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGJvb2xlYW4gcHJpbWl0aXZlIGNhbiBiZSB1c2VkIGFzIGFjY3VtdWxhdG9yIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBwcmV2VmFsID09PSBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgZmFsc2UpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-23"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTIzIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTIzLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIG51bWJlciBwcmltaXRpdmUgY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgPT09IDEyOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxMikgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-24"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTI0IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTI0LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHN0cmluZyBwcmltaXRpdmUgY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgPT09ICJoZWxsb18iOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAiaGVsbG9fIikgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-25"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTI1IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTI1LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIEZ1bmN0aW9uIG9iamVjdCBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7IH07DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgPT09IG9iakZ1bmN0aW9uOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCBvYmpGdW5jdGlvbikgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-26"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTI2IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTI2LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIEFycmF5IG9iamVjdCBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqQXJyYXkgPSBuZXcgQXJyYXkoMTApOw0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBwcmV2VmFsID09PSBvYmpBcnJheTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgb2JqQXJyYXkpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-27"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTI3IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTI3LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIFN0cmluZyBvYmplY3QgY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9ialN0cmluZyA9IG5ldyBTdHJpbmcoKTsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqU3RyaW5nOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCBvYmpTdHJpbmcpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-28"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTI4IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTI4LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIEJvb2xlYW4gb2JqZWN0IGNhbiBiZSB1c2VkIGFzIGFjY3VtdWxhdG9yIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmpCb29sZWFuID0gbmV3IEJvb2xlYW4oKTsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqQm9vbGVhbjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgb2JqQm9vbGVhbikgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-29"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTI5IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTI5LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIE51bWJlciBvYmplY3QgY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9iak51bWJlciA9IG5ldyBOdW1iZXIoKTsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqTnVtYmVyOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCBvYmpOdW1iZXIpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIxLTktYy1paS0zIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaWktMy5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIGNhbGxiYWNrZm4gdGFrZXMgNCBhcmd1bWVudHMiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsgDQogDQogIHZhciBiQ2FsbGVkID0gZmFsc2U7DQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikNCiAgeyANCiAgICBiQ2FsbGVkID0gdHJ1ZTsNCiAgICBpZihwcmV2VmFsID09PSB0cnVlICYmIGFyZ3VtZW50cy5sZW5ndGggPT09IDQpICAgDQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICBlbHNlDQogICAgICByZXR1cm4gZmFsc2U7DQogIH0NCiAgdmFyIGFyciA9IFswLDEsMiwzLDQsNSw2LDcsOCw5XTsNCiAgaWYoYXJyLnJlZHVjZShjYWxsYmFja2ZuLHRydWUpID09PSB0cnVlICYmIGJDYWxsZWQgPT09IHRydWUpDQogICAgcmV0dXJuIHRydWU7DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-30"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTMwIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTMwLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHRoZSBNYXRoIG9iamVjdCBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gTWF0aDsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgTWF0aCkgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-31"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTMxIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTMxLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIERhdGUgb2JqZWN0IGNhbiBiZSB1c2VkIGFzIGFjY3VtdWxhdG9yIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmpEYXRlID0gbmV3IERhdGUoKTsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqRGF0ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgb2JqRGF0ZSkgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-32"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTMyIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTMyLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIFJlZ0V4cCBvYmplY3QgY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9ialJlZ0V4cCA9IG5ldyBSZWdFeHAoKTsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqUmVnRXhwOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCBvYmpSZWdFeHApID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-33"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTMzIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTMzLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHRoZSBKU09OIGNhbiBiZSB1c2VkIGFzIGFjY3VtdWxhdG9yIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBwcmV2VmFsID09PSBKU09OOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCBKU09OKSA9PT0gdHJ1ZSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-34"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTM0IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTM0LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIEVycm9yIG9iamVjdCBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqRXJyb3IgPSBuZXcgUmFuZ2VFcnJvcigpOw0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBwcmV2VmFsID09PSBvYmpFcnJvcjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgb2JqRXJyb3IpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-35"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTM1IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMS8xNS40LjQuMjEtOS1jLWlpLTM1LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZSAtIHRoZSBBcmd1bWVudHMgb2JqZWN0IGNhbiBiZSB1c2VkIGFzIGFjY3VtdWxhdG9yIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICB2YXIgYXJnOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgPT09IGFyZzsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCg0KICAgICAgICAoZnVuY3Rpb24gZnVuKCkgew0KICAgICAgICAgICAgYXJnID0gYXJndW1lbnRzOw0KICAgICAgICB9KDEwLCAxMSwgMTIsIDEzKSk7DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIGFyZykgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.21-9-c-ii-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTQiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaWktNC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBrIHZhbHVlcyBhcmUgcGFzc2VkIGluIGFjZW5kaW5nIG51bWVyaWMgb3JkZXIgb24gYW4gQXJyYXkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFyciA9IFswLCAxLCAyXTsNCiAgICAgICAgdmFyIGxhc3RJZHggPSAwOw0KICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTsNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICBpZiAobGFzdElkeCAhPT0gaWR4KSB7DQogICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxhc3RJZHgrKzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGFyci5yZWR1Y2UoY2FsbGJhY2tmbiwgMTEpOw0KICAgICAgICByZXR1cm4gcmVzdWx0ICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.21-9-c-ii-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTUiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaWktNS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBrIHZhbHVlcyBhcmUgYWNjZXNzZWQgZHVyaW5nIGVhY2ggaXRlcmF0aW9uIGFuZCBub3QgcHJpb3IgdG8gc3RhcnRpbmcgdGhlIGxvb3Agb24gYW4gQXJyYXkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7DQogICAgICAgIHZhciBrSW5kZXggPSBbXTsNCiAgICAgICAgdmFyIGNhbGxlZCA9IDA7DQoNCiAgICAgICAgLy9CeSBiZWxvdyB3YXksIHdlIGNvdWxkIHZlcmlmeSB0aGF0IGsgd291bGQgYmUgc2V0dGVkIGFzIDAsIDEsIC4uLiwgbGVuZ3RoIC0gMSBpbiBvcmRlciwgYW5kIGVhY2ggdmFsdWUgd2lsbCBiZSBzZXR0ZWQgb25lIHRpbWUuDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgLy9FYWNoIHBvc2l0aW9uIHNob3VsZCBiZSB2aXNpdGVkIG9uZSB0aW1lLCB3aGljaCBtZWFucyBrIGlzIGFjY2Vzc2VkIG9uZSB0aW1lIGR1cmluZyBpdGVyYXRpb25zLg0KICAgICAgICAgICAgY2FsbGVkKys7DQogICAgICAgICAgICBpZiAodHlwZW9mIGtJbmRleFtpZHhdID09PSAidW5kZWZpbmVkIikgew0KICAgICAgICAgICAgICAgIC8vd2hlbiBjdXJyZW50IHBvc2l0aW9uIGlzIHZpc2l0ZWQsIGl0cyBwcmV2aW91cyBpbmRleCBzaG91bGQgaGFzIGJlZW4gdmlzaXRlZC4NCiAgICAgICAgICAgICAgICBpZiAoaWR4ICE9PSAwICYmIHR5cGVvZiBrSW5kZXhbaWR4IC0gMV0gPT09ICJ1bmRlZmluZWQiKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBrSW5kZXhbaWR4XSA9IDE7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgWzExLCAxMiwgMTMsIDE0XS5yZWR1Y2UoY2FsbGJhY2tmbiwgMSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdCAmJiBjYWxsZWQgPT09IDQ7DQogICAgfSwNCg0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTciLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaWktNy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSB1bmhhbmRsZWQgZXhjZXB0aW9ucyBoYXBwZW5lZCBpbiBjYWxsYmFja2ZuIHRlcm1pbmF0ZSBpdGVyYXRpb24iLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID4gMCkgew0KICAgICAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkV4Y2VwdGlvbiBvY2N1cnJlZCBpbiBjYWxsYmFja2ZuIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgNDogMTAsIDEwOiA4LCBsZW5ndGg6IDIwIH07DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuIChleCBpbnN0YW5jZW9mIEVycm9yKSAmJiAhYWNjZXNzZWQ7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTgiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaWktOC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBlbGVtZW50IGNoYW5nZWQgYnkgY2FsbGJhY2tmbiBvbiBwcmV2aW91cyBpdGVyYXRpb25zIGlzIG9ic2VydmVkIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAwKSB7DQogICAgICAgICAgICAgICAgb2JqW2lkeCArIDFdID0gODsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHJlc3VsdCA9IChjdXJWYWwgPT09IDgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIDE6IDEyLCBsZW5ndGg6IDIgfTsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.21-9-c-ii-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjEtOS1jLWlpLTkiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIxLzE1LjQuNC4yMS05LWMtaWktOS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2UgLSBjYWxsYmFja2ZuIGlzIGNhbGxlZCB3aXRoIDAgZm9ybWFsIHBhcmFtZXRlciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgY2FsbGVkID0gMDsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbigpIHsNCiAgICAgICAgICAgIGNhbGxlZCsrOw0KICAgICAgICB9DQoNCiAgICAgICAgWzExLCAxMl0ucmVkdWNlKGNhbGxiYWNrZm4sIDEpOw0KICAgICAgICByZXR1cm4gMiA9PT0gY2FsbGVkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
  </section>
</testCollection>