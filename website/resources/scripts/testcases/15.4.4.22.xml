<testCollection>
  <!-- adding section element if in the future we want to store information about the -->
  <!-- spec structure in this file, for now the section structure is defined in the   -->
  <!-- sections.js file                                                               -->
  <section name="Chapter - 15.4.4.22" numTests="176">
    <test id="15.4.4.22-0-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTAtMSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMC0xLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgbXVzdCBleGlzdCBhcyBhIGZ1bmN0aW9uIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIHZhciBmID0gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0Ow0KICBpZiAodHlwZW9mKGYpID09PSAiZnVuY3Rpb24iKSB7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-0-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTAtMiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMC0yLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQubGVuZ3RoIG11c3QgYmUgMSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBpZiAoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0Lmxlbmd0aCA9PT0gMSkgew0KICAgIHJldHVybiB0cnVlOw0KICB9DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-1-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS0xIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMS0xLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gdW5kZWZpbmVkIHRocm93cyBhIFR5cGVFcnJvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKHVuZGVmaW5lZCk7IA0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICByZXR1cm4gKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-1-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEtMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byB0aGUgTWF0aCBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gJ1tvYmplY3QgTWF0aF0nID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBNYXRoLmxlbmd0aCA9IDE7DQogICAgICAgICAgICBNYXRoWzBdID0gMTsNCiAgICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChNYXRoLCBjYWxsYmFja2ZuLCAxKSAmJiBhY2Nlc3NlZDsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGRlbGV0ZSBNYXRoWzBdOw0KICAgICAgICAgICAgZGVsZXRlIE1hdGgubGVuZ3RoOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-1-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEtMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byBEYXRlIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqID0gbmV3IERhdGUoKTsNCiAgICAgICAgb2JqLmxlbmd0aCA9IDE7DQogICAgICAgIG9ialswXSA9IDE7DQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIERhdGU7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-1-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS0xMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEtMTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byBSZWdFeHAgb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSBuZXcgUmVnRXhwKCk7DQogICAgICAgIG9iai5sZW5ndGggPSAxOw0KICAgICAgICBvYmpbMF0gPSAxOw0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gbyBpbnN0YW5jZW9mIFJlZ0V4cDsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-1-13"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS0xMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEtMTMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byB0aGUgSlNPTiBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gKCdbb2JqZWN0IEpTT05dJyA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpOw0KICAgICAgICB9DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEpTT04ubGVuZ3RoID0gMTsNCiAgICAgICAgICAgIEpTT05bMF0gPSAxOw0KICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKEpTT04sIGNhbGxiYWNrZm4sIDEpICYmIGFjY2Vzc2VkOw0KICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgZGVsZXRlIEpTT04ubGVuZ3RoOw0KICAgICAgICAgICAgZGVsZXRlIEpTT05bMF07DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-1-14"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS0xNCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEtMTQuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byBFcnJvciBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9iaiA9IG5ldyBFcnJvcigpOw0KICAgICAgICBvYmoubGVuZ3RoID0gMTsNCiAgICAgICAgb2JqWzBdID0gMTsNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgbykgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIG8gaW5zdGFuY2VvZiBFcnJvcjsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-1-15"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS0xNSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEtMTUuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byB0aGUgQXJndW1lbnRzIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiAnW29iamVjdCBBcmd1bWVudHNdJyA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaik7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0gKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHM7DQogICAgICAgIH0oImEiLCAiYiIpKTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAiYSIpICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-1-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS0yIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMS0yLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gbnVsbCB0aHJvd3MgYSBUeXBlRXJyb3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChudWxsKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgcmV0dXJuIChlIGluc3RhbmNlb2YgVHlwZUVycm9yKTsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-1-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS0zIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMS0zLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gYm9vbGVhbiBwcmltaXRpdmUiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgQm9vbGVhbjsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBCb29sZWFuLnByb3RvdHlwZVswXSA9IDE7DQogICAgICAgICAgICBCb29sZWFuLnByb3RvdHlwZS5sZW5ndGggPSAxOw0KICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKGZhbHNlLCBjYWxsYmFja2ZuLCAxKSAmJiBhY2Nlc3NlZDsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGRlbGV0ZSBCb29sZWFuLnByb3RvdHlwZVswXTsNCiAgICAgICAgICAgIGRlbGV0ZSBCb29sZWFuLnByb3RvdHlwZS5sZW5ndGg7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-1-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS00IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMS00LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gQm9vbGVhbiBvYmplY3QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9iaiA9IG5ldyBCb29sZWFuKHRydWUpOw0KICAgICAgICBvYmoubGVuZ3RoID0gMjsNCiAgICAgICAgb2JqWzBdID0gMTE7DQogICAgICAgIG9ialsxXSA9IDEyOw0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBCb29sZWFuOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMTEpICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-1-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS01IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMS01LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gbnVtYmVyIHByaW1pdGl2ZSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBOdW1iZXI7DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgTnVtYmVyLnByb3RvdHlwZVswXSA9IDE7DQogICAgICAgICAgICBOdW1iZXIucHJvdG90eXBlLmxlbmd0aCA9IDE7DQogICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoMi41LCBjYWxsYmFja2ZuLCAxKSAmJiBhY2Nlc3NlZDsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGRlbGV0ZSBOdW1iZXIucHJvdG90eXBlWzBdOw0KICAgICAgICAgICAgZGVsZXRlIE51bWJlci5wcm90b3R5cGUubGVuZ3RoOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-1-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS02IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMS02LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gTnVtYmVyIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqID0gbmV3IE51bWJlcigtMTI4KTsNCiAgICAgICAgb2JqLmxlbmd0aCA9IDI7DQogICAgICAgIG9ialswXSA9IDExOw0KICAgICAgICBvYmpbMV0gPSAxMjsNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgbykgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIG8gaW5zdGFuY2VvZiBOdW1iZXI7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxMSkgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-1-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS03IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMS03LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gc3RyaW5nIHByaW1pdGl2ZSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBTdHJpbmc7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoImhlbGxvXG53b3JsZFxcISIsIGNhbGxiYWNrZm4sICJoIikgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-1-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS04IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMS04LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gU3RyaW5nIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqID0gbmV3IFN0cmluZygiaGVsbG9cbndvcmxkXFwhIik7DQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG8pIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBvIGluc3RhbmNlb2YgU3RyaW5nOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgImgiKSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-1-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMS05IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMS05LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gRnVuY3Rpb24gb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSBmdW5jdGlvbiAoYSwgYikgew0KICAgICAgICAgICAgcmV0dXJuIGEgKyBiOw0KICAgICAgICB9Ow0KICAgICAgICBvYmpbMF0gPSAxMTsNCiAgICAgICAgb2JqWzFdID0gOTsNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgbykgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIG8gaW5zdGFuY2VvZiBGdW5jdGlvbjsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDExKSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-10-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTEwLTEiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEwLTEuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCBkb2Vzbid0IG11dGF0ZSB0aGUgQXJyYXkgb24gd2hpY2ggaXQgaXMgY2FsbGVkIG9uIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsICBpZHgsIG9iaikNCiAgew0KICAgIHJldHVybiAxOw0KICB9DQogIHZhciBzcmNBcnIgPSBbMSwyLDMsNCw1XTsNCiAgc3JjQXJyLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4pOw0KICBpZihzcmNBcnJbMF0gPT09IDEgJiYNCiAgICAgc3JjQXJyWzFdID09PSAyICYmDQogICAgIHNyY0FyclsyXSA9PT0gMyAmJg0KICAgICBzcmNBcnJbM10gPT09IDQgJiYNCiAgICAgc3JjQXJyWzRdID09PSA1KQ0KICB7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCg0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-10-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTEwLTIiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEwLTIuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCByZWR1Y2VzIGFycmF5IGluIGRlc2NlbmRpbmcgb3JkZXIgb2YgaW5kaWNlcyIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCAgaWR4LCBvYmopDQogIHsNCiAgICByZXR1cm4gcHJldlZhbCArIGN1clZhbDsNCiAgfQ0KICB2YXIgc3JjQXJyID0gWycxJywnMicsJzMnLCc0JywnNSddOw0KICBpZihzcmNBcnIucmVkdWNlUmlnaHQoY2FsbGJhY2tmbikgPT09ICc1NDMyMScpDQogIHsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-10-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTEwLTMiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEwLTMuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIHN1YmNsYXNzZWQgYXJyYXkgd2l0aCBsZW5ndGggMSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gWzFdOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICBpZihmLnJlZHVjZVJpZ2h0KGNiKSA9PT0gMSkNCiAgICByZXR1cm4gdHJ1ZTsNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-10-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTEwLTQiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEwLTQuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIHN1YmNsYXNzZWQgYXJyYXkgd2l0aCBsZW5ndGggbW9yZSB0aGFuIDEiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgwLCAxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIA0KICBmdW5jdGlvbiBjYihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKXtyZXR1cm4gcHJldlZhbCArIGN1clZhbDt9DQogIGlmKGYucmVkdWNlUmlnaHQoY2IpID09PSA2KQ0KICAgIHJldHVybiB0cnVlOw0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-10-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTEwLTUiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEwLTUuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCByZWR1Y2VzIGFycmF5IGluIGRlc2NlbmRpbmcgb3JkZXIgb2YgaW5kaWNlcyhpbml0aWFsdmFsdWUgcHJlc2VudCkiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgIGlkeCwgb2JqKQ0KICB7DQogICAgcmV0dXJuIHByZXZWYWwgKyBjdXJWYWw7DQogIH0NCiAgdmFyIHNyY0FyciA9IFsnMScsJzInLCczJywnNCcsJzUnXTsNCiAgaWYoc3JjQXJyLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4sJzYnKSA9PT0gJzY1NDMyMScpDQogIHsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-10-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTEwLTYiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEwLTYuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIHN1YmNsYXNzZWQgYXJyYXkgd2hlbiBpbml0aWFsdmFsdWUgcHJvdmlkZWQiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgwLCAxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIA0KICBmdW5jdGlvbiBjYihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKXtyZXR1cm4gcHJldlZhbCArIGN1clZhbDt9DQogIGlmKGYucmVkdWNlUmlnaHQoY2IsIjQiKSA9PT0gIjQzMjEwIikNCiAgICByZXR1cm4gdHJ1ZTsNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-10-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTEwLTciLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEwLTcuanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIHN1YmNsYXNzZWQgYXJyYXkgd2hlbiBsZW5ndGggdG8gMSBhbmQgaW5pdGlhbHZhbHVlIHByb3ZpZGVkIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBbMV07DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICANCiAgZnVuY3Rpb24gY2IocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iail7cmV0dXJuIHByZXZWYWwgKyBjdXJWYWw7fQ0KICBpZihmLnJlZHVjZVJpZ2h0KGNiLCI0IikgPT09ICI0MSIpDQogICAgcmV0dXJuIHRydWU7DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-10-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTEwLTgiLA0KDQpwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTEwLTguanMiLA0KDQpkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCBkb2Vzbid0IHZpc2l0IGV4cGFuZG9zIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgdmFyIGNhbGxDbnQgPSAwOw0KICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgIGlkeCwgb2JqKQ0KICB7DQogICAgY2FsbENudCsrOw0KICB9DQogIHZhciBzcmNBcnIgPSBbJzEnLCcyJywnMycsJzQnLCc1J107DQogIHNyY0FyclsiaSJdID0gMTA7DQogIHNyY0Fyclt0cnVlXSA9IDExOw0KDQogIHNyY0Fyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuKTsNCg0KICBpZihjYWxsQ250ID09IDQpDQogIHsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-2-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0xIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMi0xLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gQXJyYXktbGlrZSBvYmplY3QsICdsZW5ndGgnIGlzIGFuIG93biBkYXRhIHByb3BlcnR5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICB2YXIgb2JqID0gew0KICAgICAgICAgICAgMDogMTIsDQogICAgICAgICAgICAxOiAxMSwNCiAgICAgICAgICAgIDI6IDksDQogICAgICAgICAgICBsZW5ndGg6IDINCiAgICAgICAgfTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBvYmoubGVuZ3RoID09PSAyOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMTEpICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-2-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTItMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byBBcnJheS1saWtlIG9iamVjdCwgJ2xlbmd0aCcgaXMgYW4gaW5oZXJpdGVkIGFjY2Vzc29yIHByb3BlcnR5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KDQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBwcm90byA9IHt9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KICAgICAgICBjaGlsZFswXSA9IDEyOw0KICAgICAgICBjaGlsZFsxXSA9IDExOw0KICAgICAgICBjaGlsZFsyXSA9IDk7DQoNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoY2hpbGQsIGNhbGxiYWNrZm4sIDExKSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-2-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTItMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byBBcnJheS1saWtlIG9iamVjdCwgJ2xlbmd0aCcgaXMgYW4gb3duIGFjY2Vzc29yIHByb3BlcnR5IHdpdGhvdXQgYSBnZXQgZnVuY3Rpb24iLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iai5sZW5ndGggPT09ICJ1bmRlZmluZWQiOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsNCiAgICAgICAgICAgIDA6IDExLA0KICAgICAgICAgICAgMTogMTINCiAgICAgICAgfTsNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkgeyB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDExMSkgPT09IDExMSAmJiAhYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-2-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0xMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTItMTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSAnbGVuZ3RoJyBpcyBvd24gYWNjZXNzb3IgcHJvcGVydHkgd2l0aG91dCBhIGdldCBmdW5jdGlvbiB0aGF0IG92ZXJyaWRlcyBhbiBpbmhlcml0ZWQgYWNjZXNzb3IgcHJvcGVydHkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iai5sZW5ndGggPT09ICJ1bmRlZmluZWQiOw0KICAgICAgICB9DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QucHJvdG90eXBlLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHZhciBvYmogPSB7IDA6IDEyLCAxOiAxMyB9Ow0KICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHsgfSwNCiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxMSkgPT09IDExICYmICFhY2Nlc3NlZDsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLmxlbmd0aDsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-2-13"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0xMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTItMTMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byB0aGUgQXJyYXktbGlrZSBvYmplY3QgdGhhdCAnbGVuZ3RoJyBpcyBpbmhlcml0ZWQgYWNjZXNzb3IgcHJvcGVydHkgd2l0aG91dCBhIGdldCBmdW5jdGlvbiIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBjdXJWYWwgPiAxMDsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBwcm90byA9IHt9Ow0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sICJsZW5ndGgiLCB7DQogICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHsgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KICAgICAgICBjaGlsZFswXSA9IDExOw0KICAgICAgICBjaGlsZFsxXSA9IDEyOw0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChjaGlsZCwgY2FsbGJhY2tmbiwgMTExKSA9PT0gMTExICYmICFhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-2-14"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0xNCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTItMTQuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byB0aGUgQXJyYXktbGlrZSBvYmplY3QgdGhhdCAnbGVuZ3RoJyBwcm9wZXJ0eSBkb2Vzbid0IGV4aXN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiB9Ow0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBjdXJWYWwgPiAxMDsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDExMSkgPT09IDExMSAmJiAhYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-2-17"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0xNyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTItMTcuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byB0aGUgQXJndW1lbnRzIG9iamVjdCwgd2hpY2ggaW1wbGVtZW50cyBpdHMgb3duIHByb3BlcnR5IGdldCBtZXRob2QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFyZzsNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24gKGEsIGIpIHsNCiAgICAgICAgICAgIGFyZyA9IGFyZ3VtZW50czsNCiAgICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChhcmd1bWVudHMsIGNhbGxiYWNrZm4sIDExKTsNCiAgICAgICAgfTsNCg0KICAgICAgICByZXR1cm4gZnVuYygxMiwgMTEpICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-2-18"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0xOCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTItMTguanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byBTdHJpbmcgb2JqZWN0LCB3aGljaCBpbXBsZW1lbnRzIGl0cyBvd24gcHJvcGVydHkgZ2V0IG1ldGhvZCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIHN0ciA9IG5ldyBTdHJpbmcoIjQzMiIpOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJlVmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMzsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBTdHJpbmcucHJvdG90eXBlWzNdID0gIjEiOw0KICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKHN0ciwgY2FsbGJhY2tmbiwgMTExKSAmJiBhY2Nlc3NlZDsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGRlbGV0ZSBTdHJpbmcucHJvdG90eXBlWzNdOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-2-19"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0xOSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTItMTkuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgYXBwbGllZCB0byBGdW5jdGlvbiBvYmplY3QsIHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICB2YXIgZnVuID0gZnVuY3Rpb24gKGEsIGIpIHsNCiAgICAgICAgICAgIHJldHVybiBhICsgYjsNCiAgICAgICAgfTsNCiAgICAgICAgZnVuWzBdID0gMTI7DQogICAgICAgIGZ1blsxXSA9IDExOw0KICAgICAgICBmdW5bMl0gPSA5Ow0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIG9iai5sZW5ndGggPT09IDI7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoZnVuLCBjYWxsYmFja2ZuLCAxMSkgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-2-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0yIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMi0yLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gJ2xlbmd0aCcgaXMgb3duIGRhdGEgcHJvcGVydHkgb24gYW4gQXJyYXkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMjsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBbMTIsIDExXS5yZWR1Y2VSaWdodChjYWxsYmFja2ZuLCAxMSkgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-2-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi0zIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMi0zLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gQXJyYXktbGlrZSBvYmplY3QsICdsZW5ndGgnIGlzIGFuIG93biBkYXRhIHByb3BlcnR5IHRoYXQgb3ZlcnJpZGVzIGFuIGluaGVyaXRlZCBkYXRhIHByb3BlcnR5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IHRydWU7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBwcm90byA9IHsgbGVuZ3RoOiAzIH07DQoNCiAgICAgICAgdmFyIENvbiA9IGZ1bmN0aW9uICgpIHsgfTsNCiAgICAgICAgQ29uLnByb3RvdHlwZSA9IHByb3RvOw0KDQogICAgICAgIHZhciBjaGlsZCA9IG5ldyBDb24oKTsNCiAgICAgICAgY2hpbGQubGVuZ3RoID0gMjsNCiAgICAgICAgY2hpbGRbMF0gPSAxMjsNCiAgICAgICAgY2hpbGRbMV0gPSAxMTsNCiAgICAgICAgY2hpbGRbMl0gPSA5Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChjaGlsZCwgY2FsbGJhY2tmbikgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-2-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi00IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMi00LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gJ2xlbmd0aCcgaXMgb3duIGRhdGEgcHJvcGVydHkgdGhhdCBvdmVycmlkZXMgYW4gaW5oZXJpdGVkIGRhdGEgcHJvcGVydHkgb24gYW4gQXJyYXkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIHZhciBhcnJQcm90b0xlbjsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMjsNCiAgICAgICAgfQ0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBhcnJQcm90b0xlbiA9IEFycmF5LnByb3RvdHlwZS5sZW5ndGg7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUubGVuZ3RoID0gMDsNCg0KICAgICAgICAgICAgcmV0dXJuIFsxMiwgMTFdLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4sIDExKSAmJiBhY2Nlc3NlZDsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5sZW5ndGggPSBhcnJQcm90b0xlbjsNCiAgICAgICAgfQ0KDQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-2-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi01IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMi01LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gQXJyYXktbGlrZSBvYmplY3QsICdsZW5ndGgnIGlzIGFuIG93biBkYXRhIHByb3BlcnR5IHRoYXQgb3ZlcnJpZGVzIGFuIGluaGVyaXRlZCBhY2Nlc3NvciBwcm9wZXJ0eSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBvYmoubGVuZ3RoID09PSAyOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHByb3RvID0ge307DQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAzOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hpbGQsICJsZW5ndGgiLCB7DQogICAgICAgICAgICB2YWx1ZTogMiwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCiAgICAgICAgY2hpbGRbMF0gPSAxMjsNCiAgICAgICAgY2hpbGRbMV0gPSAxMTsNCiAgICAgICAgY2hpbGRbMl0gPSA5Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChjaGlsZCwgY2FsbGJhY2tmbikgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-2-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi02IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMi02LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gQXJyYXktbGlrZSBvYmplY3QsICdsZW5ndGgnIGlzIGFuIGluaGVyaXRlZCBkYXRhIHByb3BlcnR5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICB2YXIgcHJvdG8gPSB7IGxlbmd0aDogMiB9Ow0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KICAgICAgICBjaGlsZFswXSA9IDEyOw0KICAgICAgICBjaGlsZFsxXSA9IDExOw0KICAgICAgICBjaGlsZFsyXSA9IDk7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbjEocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIG9iai5sZW5ndGggPT09IDI7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoY2hpbGQsIGNhbGxiYWNrZm4xLCAxMSkgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-2-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi03IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMi03LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gQXJyYXktbGlrZSBvYmplY3QsICdsZW5ndGgnIGlzIGFuIG93biBhY2Nlc3NvciBwcm9wZXJ0eSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICB2YXIgb2JqID0ge307DQogICAgICAgIG9ialswXSA9IDEyOw0KICAgICAgICBvYmpbMV0gPSAxMTsNCiAgICAgICAgb2JqWzJdID0gOTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBvYmoubGVuZ3RoID09PSAyOw0KICAgICAgICB9DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxMSkgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-2-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi04IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMi04LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gQXJyYXktbGlrZSBvYmplY3QsICdsZW5ndGgnIGlzIGFuIG93biBhY2Nlc3NvciBwcm9wZXJ0eSB0aGF0IG92ZXJyaWRlcyBhbiBpbmhlcml0ZWQgZGF0YSBwcm9wZXJ0eSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBvYmoubGVuZ3RoID09PSAyOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHByb3RvID0geyBsZW5ndGg6IDMgfTsNCg0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGlsZCwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICBjaGlsZFswXSA9IDEyOw0KICAgICAgICBjaGlsZFsxXSA9IDExOw0KICAgICAgICBjaGlsZFsyXSA9IDk7DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKGNoaWxkLCBjYWxsYmFja2ZuLCAxMSkgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-2-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMi05IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMi05LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gQXJyYXktbGlrZSBvYmplY3QsICdsZW5ndGgnIGlzIGFuIG93biBhY2Nlc3NvciBwcm9wZXJ0eSB0aGF0IG92ZXJyaWRlcyBhbiBpbmhlcml0ZWQgYWNjZXNzb3IgcHJvcGVydHkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbjEocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIG9iai5sZW5ndGggPT09IDI7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgcHJvdG8gPSB7fTsNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIDM7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHZhciBDb24gPSBmdW5jdGlvbiAoKSB7IH07DQogICAgICAgIENvbi5wcm90b3R5cGUgPSBwcm90bzsNCg0KICAgICAgICB2YXIgY2hpbGQgPSBuZXcgQ29uKCk7DQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjaGlsZCwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAyOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCiAgICAgICAgY2hpbGRbMF0gPSAxMjsNCiAgICAgICAgY2hpbGRbMV0gPSAxMTsNCiAgICAgICAgY2hpbGRbMl0gPSA5Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChjaGlsZCwgY2FsbGJhY2tmbjEsIDExMSkgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-3-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0xIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMy0xLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgdW5kZWZpbmVkIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogOSwgbGVuZ3RoOiB1bmRlZmluZWQgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gMSAmJiAhYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-3-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhIG51bWJlciAodmFsdWUgaXMgTmFOKSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDksIGxlbmd0aDogTmFOIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IDEgJiYgIWFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-3-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhIHN0cmluZyBjb250YWluaW5nIGEgcG9zaXRpdmUgbnVtYmVyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0MSA9IHRydWU7DQogICAgICAgIHZhciB0ZXN0UmVzdWx0MiA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPiAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdDEgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQyID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDEyLCAxOiAxMSwgMjogOSwgbGVuZ3RoOiAiMiIgfTsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDEgJiYgdGVzdFJlc3VsdDI7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-3-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0xMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhIHN0cmluZyBjb250YWluaW5nIGEgbmVnYXRpdmUgbnVtYmVyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0MSA9IHRydWU7DQogICAgICAgIHZhciB0ZXN0UmVzdWx0MiA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPiAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdDEgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQyID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiwgMjogOSwgbGVuZ3RoOiAiLTQyOTQ5NjcyOTQiIH07DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQxICYmIHRlc3RSZXN1bHQyOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-3-13"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0xMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMTMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhIHN0cmluZyBjb250YWluaW5nIGEgZGVjaW1hbCBudW1iZXIiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQxID0gdHJ1ZTsNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQyID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA+IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MSA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdDIgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTIsIDE6IDExLCAyOiA5LCBsZW5ndGg6ICIyLjUiIH07DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQxICYmIHRlc3RSZXN1bHQyOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-3-15"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0xNSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMTUuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhIHN0cmluZyBjb250YWluaW5nIGFuIGV4cG9uZW50aWFsIG51bWJlciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdDEgPSB0cnVlOw0KICAgICAgICB2YXIgdGVzdFJlc3VsdDIgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID4gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQxID0gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MiA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMiwgMTogMTEsIDI6IDksIGxlbmd0aDogIjJFMCIgfTsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDEgJiYgdGVzdFJlc3VsdDI7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-3-16"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0xNiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMTYuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhIHN0cmluZyBjb250YWluaW5nIGEgaGV4IG51bWJlciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdDEgPSB0cnVlOw0KICAgICAgICB2YXIgdGVzdFJlc3VsdDIgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID4gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQxID0gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MiA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMiwgMTogMTEsIDI6IDksIGxlbmd0aDogIjB4MDAwMiIgfTsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDEgJiYgdGVzdFJlc3VsdDI7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-3-17"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0xNyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMTcuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyIHdpdGggbGVhZGluZyB6ZXJvcyIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdDEgPSB0cnVlOw0KICAgICAgICB2YXIgdGVzdFJlc3VsdDIgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID4gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQxID0gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MiA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMiwgMTogMTEsIDI6IDksIGxlbmd0aDogIjAwMDIuMDAiIH07DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQxICYmIHRlc3RSZXN1bHQyOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-3-18"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0xOCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMTguanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhIHN0cmluZyB0aGF0IGNhbid0IGNvbnZlcnQgdG8gYSBudW1iZXIiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiA5LCAxOiA4LCBsZW5ndGg6ICJ0d28iIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMTEpID09PSAxMSAmJiAhYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-3-19"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0xOSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMTkuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhbiBvYmplY3Qgd2hpY2ggaGFzIGFuIG93biB0b1N0cmluZyBtZXRob2QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQxID0gdHJ1ZTsNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQyID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA+IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MSA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdDIgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHRvU3RyaW5nQWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIG9iaiA9IHsNCiAgICAgICAgICAgIDA6IDEyLA0KICAgICAgICAgICAgMTogMTEsDQogICAgICAgICAgICAyOiA5LA0KICAgICAgICAgICAgbGVuZ3RoOiB7DQogICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmdBY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAnMic7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICAgIC8vIG9iamVjdHMgaW5oZXJpdCB0aGUgZGVmYXVsdCB2YWx1ZU9mKCkgbWV0aG9kIGZyb20gT2JqZWN0DQogICAgICAgIC8vIHRoYXQgc2ltcGx5IHJldHVybnMgaXRzZWxmLiBTaW5jZSB0aGUgZGVmYXVsdCB2YWx1ZU9mKCkgbWV0aG9kDQogICAgICAgIC8vIGRvZXMgbm90IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSwgRVMgbmV4dCB0cmllcyB0byBjb252ZXJ0IHRoZSBvYmplY3QNCiAgICAgICAgLy8gdG8gYSBudW1iZXIgYnkgY2FsbGluZyBpdHMgdG9TdHJpbmcoKSBtZXRob2QgYW5kIGNvbnZlcnRpbmcgdGhlDQogICAgICAgIC8vIHJlc3VsdGluZyBzdHJpbmcgdG8gYSBudW1iZXIuDQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQxICYmIHRlc3RSZXN1bHQyICYmIHRvU3RyaW5nQWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-3-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0yIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMy0yLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gYW4gQXJyYXktbGlrZSBvYmplY3QsICdsZW5ndGgnIGlzIDAgKGxlbmd0aCBvdmVycmlkZGVuIHRvIGZhbHNlKHR5cGUgY29udmVyc2lvbikpIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJlVmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiA5LCBsZW5ndGg6IGZhbHNlIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IDEgJiYgIWFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-3-20"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0yMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMjAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhbiBPYmplY3Qgd2hpY2ggaGFzIGFuIG93biB2YWx1ZU9mIG1ldGhvZCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdDEgPSB0cnVlOw0KICAgICAgICB2YXIgdGVzdFJlc3VsdDIgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID4gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQxID0gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MiA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgdmFsdWVPZkFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgdmFyIG9iaiA9IHsNCiAgICAgICAgICAgIDA6IDEyLA0KICAgICAgICAgICAgMTogMTEsDQogICAgICAgICAgICAyOiA5LA0KICAgICAgICAgICAgbGVuZ3RoOiB7DQogICAgICAgICAgICAgICAgdmFsdWVPZjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICB2YWx1ZU9mQWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQxICYmIHRlc3RSZXN1bHQyICYmIHZhbHVlT2ZBY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-3-21"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0yMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMjEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSAnbGVuZ3RoJyBpcyBhbiBvYmplY3QgdGhhdCBoYXMgYW4gb3duIHZhbHVlT2YgbWV0aG9kIHRoYXQgcmV0dXJucyBhbiBvYmplY3QgYW5kIHRvU3RyaW5nIG1ldGhvZCB0aGF0IHJldHVybnMgYSBzdHJpbmciLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQxID0gdHJ1ZTsNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQyID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA+IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MSA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdDIgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHRvU3RyaW5nQWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIHZhbHVlT2ZBY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIHZhciBvYmogPSB7DQogICAgICAgICAgICAwOiAxMiwNCiAgICAgICAgICAgIDE6IDExLA0KICAgICAgICAgICAgMjogOSwNCiAgICAgICAgICAgIGxlbmd0aDogew0KICAgICAgICAgICAgICAgIHZhbHVlT2Y6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFsdWVPZkFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9Ow0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmdBY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAnMic7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSk7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0MSAmJiB0ZXN0UmVzdWx0MiAmJiB2YWx1ZU9mQWNjZXNzZWQgJiYgdG9TdHJpbmdBY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-3-22"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0yMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMjIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBleGNlcHRpb24gd2hlbiAnbGVuZ3RoJyBpcyBhbiBvYmplY3Qgd2l0aCB0b1N0cmluZyBhbmQgdmFsdWVPZiBtZXRob2RzIHRoYXQgZG9u77+9dCByZXR1cm4gcHJpbWl0aXZlIHZhbHVlcyIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIHRvU3RyaW5nQWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIHZhbHVlT2ZBY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsNCiAgICAgICAgICAgIDA6IDExLA0KICAgICAgICAgICAgMTogMTIsDQoNCiAgICAgICAgICAgIGxlbmd0aDogew0KICAgICAgICAgICAgICAgIHZhbHVlT2Y6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFsdWVPZkFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9Ow0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmdBY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gY2F0Y2ggKGV4KSB7DQogICAgICAgICAgICByZXR1cm4gKGV4IGluc3RhbmNlb2YgVHlwZUVycm9yKSAmJiB0b1N0cmluZ0FjY2Vzc2VkICYmIHZhbHVlT2ZBY2Nlc3NlZCAmJiAhYWNjZXNzZWQ7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-3-23"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0yMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMjMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdXNlcyBpbmhlcml0ZWQgdmFsdWVPZiBtZXRob2Qgd2hlbiAnbGVuZ3RoJyBpcyBhbiBvYmplY3Qgd2l0aCBhbiBvd24gdG9TdHJpbmcgYW5kIGluaGVyaXRlZCB2YWx1ZU9mIG1ldGhvZHMiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQxID0gdHJ1ZTsNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQyID0gZmFsc2U7DQogICAgICAgIHZhciB2YWx1ZU9mQWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIHRvU3RyaW5nQWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICB2YXIgcHJvdG8gPSB7DQogICAgICAgICAgICB2YWx1ZU9mOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdmFsdWVPZkFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICByZXR1cm4gMjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgdmFyIENvbiA9IGZ1bmN0aW9uICgpIHsgfTsNCiAgICAgICAgQ29uLnByb3RvdHlwZSA9IHByb3RvOw0KICAgICAgICB2YXIgY2hpbGQgPSBuZXcgQ29uKCk7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID4gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQxID0gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MiA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICBjaGlsZC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRvU3RyaW5nQWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuICcxJzsNCiAgICAgICAgfTsNCg0KICAgICAgICB2YXIgb2JqID0gew0KICAgICAgICAgICAgMDogMTIsDQogICAgICAgICAgICAxOiAxMSwNCiAgICAgICAgICAgIDI6IDksDQogICAgICAgICAgICBsZW5ndGg6IGNoaWxkDQogICAgICAgIH07DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQxICYmIHRlc3RSZXN1bHQyICYmIHZhbHVlT2ZBY2Nlc3NlZCAmJiAhdG9TdHJpbmdBY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-3-24"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0yNCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMjQuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhIHBvc2l0aXZlIG5vbi1pbnRlZ2VyLCBlbnN1cmUgdHJ1bmNhdGlvbiBvY2N1cnMgaW4gdGhlIHByb3BlciBkaXJlY3Rpb24iLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQxID0gdHJ1ZTsNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQyID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA+IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MSA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdDIgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTIsIDE6IDExLCAyOiA5LCBsZW5ndGg6IDIuNjg1IH07DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQxICYmIHRlc3RSZXN1bHQyOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-3-25"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0yNSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTMtMjUuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB2YWx1ZSBvZiAnbGVuZ3RoJyBpcyBhIG5lZ2F0aXZlIG5vbi1pbnRlZ2VyLCBlbnN1cmUgdHJ1bmNhdGlvbiBvY2N1cnMgaW4gdGhlIHByb3BlciBkaXJlY3Rpb24iLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQxID0gdHJ1ZTsNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQyID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA+IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MSA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdDIgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsNCiAgICAgICAgICAgIDA6IDEyLA0KICAgICAgICAgICAgMTogMTEsDQogICAgICAgICAgICAyOiA5LA0KICAgICAgICAgICAgbGVuZ3RoOiAtNDI5NDk2NzI5NC41DQogICAgICAgIH07DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQxICYmIHRlc3RSZXN1bHQyOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-3-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy0zIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMy0zLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYSBudW1iZXIgKHZhbHVlIGlzIDApIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogOSwgbGVuZ3RoOiAwIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSkgPT09IDEgJiYgIWFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-3-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy00IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMy00LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYSBudW1iZXIgKHZhbHVlIGlzICswKSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDksIGxlbmd0aDogKzAgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gMSAmJiAhYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-3-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy01IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMy01LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYSBudW1iZXIgKHZhbHVlIGlzIC0wKSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZVZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogOSwgbGVuZ3RoOiAtMCB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSAxICYmICFhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-3-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy02IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMy02LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYSBudW1iZXIgKHZhbHVlIGlzIHBvc2l0aXZlKSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdDEgPSB0cnVlOw0KICAgICAgICB2YXIgdGVzdFJlc3VsdDIgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID4gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQxID0gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MiA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAxOiAxMSwgMjogOSwgbGVuZ3RoOiAyIH07DQoNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQxICYmIHRlc3RSZXN1bHQyOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-3-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy03IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMy03LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYSBudW1iZXIgKHZhbHVlIGlzIG5lZ2F0aXZlKSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdDEgPSB0cnVlOw0KICAgICAgICB2YXIgdGVzdFJlc3VsdDIgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID4gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQxID0gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0MiA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAxOiAxMSwgMjogOSwgbGVuZ3RoOiAtNDI5NDk2NzI5NCB9Ow0KDQogICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMSk7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0MSAmJiB0ZXN0UmVzdWx0MjsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-3-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItMy05IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItMy05LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdmFsdWUgb2YgJ2xlbmd0aCcgaXMgYSBudW1iZXIgKHZhbHVlIGlzIC1JbmZpbml0eSkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiA5LCBsZW5ndGg6IC1JbmZpbml0eSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpID09PSAxICYmICFhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-4-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTQtMSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNC0xLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiBjYWxsYmFja2ZuIGlzIHVuZGVmaW5lZCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogIHZhciBhcnIgPSBuZXcgQXJyYXkoMTApOw0KICB0cnkgew0KICAgIGFyci5yZWR1Y2VSaWdodCgpOyAgICANCiAgfQ0KICBjYXRjaChlKSB7DQogICAgaWYoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikNCiAgICAgIHJldHVybiB0cnVlOyAgDQogIH0NCg0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-4-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNC0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTQtMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB0aGUgZXhjZXB0aW9uIGlzIG5vdCB0aHJvd24gaWYgZXhjZXB0aW9uIHdhcyB0aHJvd24gYnkgc3RlcCAyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiB9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgdW5kZWZpbmVkKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBjYXRjaCAoZXgpIHsNCiAgICAgICAgICAgIHJldHVybiAhKGV4IGluc3RhbmNlb2YgVHlwZUVycm9yKTsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-4-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNC0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTQtMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB0aGUgZXhjZXB0aW9uIGlzIG5vdCB0aHJvd24gaWYgZXhjZXB0aW9uIHdhcyB0aHJvd24gYnkgc3RlcCAzIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiB9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCB1bmRlZmluZWQpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuICEoZXggaW5zdGFuY2VvZiBUeXBlRXJyb3IpOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-4-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNC0xMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTQtMTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSAnY2FsbGJhY2tmbicgaXMgYSBmdW5jdGlvbiIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgaW5pdGlhbFZhbHVlID0gMDsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihhY2N1bSwgdmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjdW0gKz0gdmFsOw0KICAgICAgICAgICAgcmV0dXJuIGFjY3VtOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIDIwID09PSBbMTEsIDldLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4sIGluaXRpYWxWYWx1ZSk7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-4-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTQtMiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNC0yLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFJlZmVyZW5jZUVycm9yIGlmIGNhbGxiYWNrZm4gaXMgdW5yZWZlcmVuY2VkIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgdmFyIGFyciA9IG5ldyBBcnJheSgxMCk7DQogIHRyeSB7DQogICAgYXJyLnJlZHVjZVJpZ2h0KGZvbyk7ICAgIA0KICB9DQogIGNhdGNoKGUpIHsNCiAgICBpZihlIGluc3RhbmNlb2YgUmVmZXJlbmNlRXJyb3IpDQogICAgICByZXR1cm4gdHJ1ZTsgIA0KICB9DQoNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-4-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTQtMyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNC0zLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiBjYWxsYmFja2ZuIGlzIG51bGwiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICB2YXIgYXJyID0gbmV3IEFycmF5KDEwKTsNCiAgdHJ5IHsNCiAgICBhcnIucmVkdWNlUmlnaHQobnVsbCk7ICAgIA0KICB9DQogIGNhdGNoKGUpIHsNCiAgICBpZihlIGluc3RhbmNlb2YgVHlwZUVycm9yKQ0KICAgICAgcmV0dXJuIHRydWU7ICANCiAgfQ0KDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-4-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTQtNCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNC00LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiBjYWxsYmFja2ZuIGlzIGJvb2xlYW4iLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICB2YXIgYXJyID0gbmV3IEFycmF5KDEwKTsNCiAgdHJ5IHsNCiAgICBhcnIucmVkdWNlUmlnaHQodHJ1ZSk7ICAgIA0KICB9DQogIGNhdGNoKGUpIHsNCiAgICBpZihlIGluc3RhbmNlb2YgVHlwZUVycm9yKQ0KICAgICAgcmV0dXJuIHRydWU7ICANCiAgfQ0KDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-4-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTQtNSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNC01LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiBjYWxsYmFja2ZuIGlzIG51bWJlciIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogIHZhciBhcnIgPSBuZXcgQXJyYXkoMTApOw0KICB0cnkgew0KICAgIGFyci5yZWR1Y2VSaWdodCg1KTsgICAgDQogIH0NCiAgY2F0Y2goZSkgew0KICAgIGlmKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpDQogICAgICByZXR1cm4gdHJ1ZTsgIA0KICB9DQoNCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-4-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTQtNiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNC02LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiBjYWxsYmFja2ZuIGlzIHN0cmluZyIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogIHZhciBhcnIgPSBuZXcgQXJyYXkoMTApOw0KICB0cnkgew0KICAgIGFyci5yZWR1Y2VSaWdodCgiYWJjIik7ICAgIA0KICB9DQogIGNhdGNoKGUpIHsNCiAgICBpZihlIGluc3RhbmNlb2YgVHlwZUVycm9yKQ0KICAgICAgcmV0dXJuIHRydWU7ICANCiAgfQ0KDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-4-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTQtNyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNC03LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiBjYWxsYmFja2ZuIGlzIE9iamVjdCB3aXRob3V0IFtbQ2FsbF1dIGludGVybmFsIG1ldGhvZCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogIHZhciBhcnIgPSBuZXcgQXJyYXkoMTApOw0KICB0cnkgew0KICAgIGFyci5yZWR1Y2VSaWdodChuZXcgT2JqZWN0KCkpOyAgICANCiAgfQ0KICBjYXRjaChlKSB7DQogICAgaWYoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikNCiAgICAgIHJldHVybiB0cnVlOyAgDQogIH0NCg0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-4-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNC04IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNC04LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gc2lkZSBlZmZlY3RzIHByb2R1Y2VkIGJ5IHN0ZXAgMiBhcmUgdmlzaWJsZSB3aGVuIGFuIGV4Y2VwdGlvbiBvY2N1cnMiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIDE6IDEyIH07DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICByZXR1cm4gMjsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgbnVsbCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gY2F0Y2ggKGV4KSB7DQogICAgICAgICAgICByZXR1cm4gZXggaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiYgYWNjZXNzZWQ7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-4-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNC05IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNC05LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gc2lkZSBlZmZlY3RzIHByb2R1Y2VkIGJ5IHN0ZXAgMyBhcmUgdmlzaWJsZSB3aGVuIGFuIGV4Y2VwdGlvbiBvY2N1cnMiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIDE6IDEyIH07DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIjIiOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgbnVsbCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gY2F0Y2ggKGV4KSB7DQogICAgICAgICAgICByZXR1cm4gZXggaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiYgYWNjZXNzZWQ7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-5-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTUtMSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNS0xLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiAnbGVuZ3RoJyBpcyAwIChlbXB0eSBhcnJheSksIG5vIGluaXRWYWwiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZnVuY3Rpb24gY2IoKXt9DQogIA0KICB0cnkgew0KICAgIFtdLnJlZHVjZVJpZ2h0KGNiKTsNCiAgfQ0KICBjYXRjaCAoZSkgew0KICAgIGlmIChlIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-5-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNS0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTUtMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSBzaWRlLWVmZmVjdHMgcHJvZHVjZWQgYnkgc3RlcCAyIHdoZW4gYW4gZXhjZXB0aW9uIG9jY3VycyIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgMTogMTIgfTsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBmdW5jdGlvbiAoKSB7IH0pOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuIChleCBpbnN0YW5jZW9mIFR5cGVFcnJvcikgJiYgYWNjZXNzZWQ7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-5-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNS0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTUtMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSBzaWRlLWVmZmVjdHMgcHJvZHVjZWQgYnkgc3RlcCAzIHdoZW4gYW4gZXhjZXB0aW9uIG9jY3VycyIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgMTogMTIgfTsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiMCI7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBmdW5jdGlvbiAoKSB7IH0pOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuIChleCBpbnN0YW5jZW9mIFR5cGVFcnJvcikgJiYgYWNjZXNzZWQ7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-5-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNS0xMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTUtMTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB0aGUgZXhjZXB0aW9uIGlzIG5vdCB0aHJvd24gaWYgZXhjZXB0aW9uIHdhcyB0aHJvd24gYnkgc3RlcCAyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiB9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgZnVuY3Rpb24gKCkgeyB9KTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBjYXRjaCAoZXgpIHsNCiAgICAgICAgICAgIHJldHVybiAhKGV4IGluc3RhbmNlb2YgVHlwZUVycm9yKTsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-5-13"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNS0xMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTUtMTMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSB0aGUgZXhjZXB0aW9uIGlzIG5vdCB0aHJvd24gaWYgZXhjZXB0aW9uIHdhcyB0aHJvd24gYnkgc3RlcCAzIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiB9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBmdW5jdGlvbiAoKSB7IH0pOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuICEoZXggaW5zdGFuY2VvZiBUeXBlRXJyb3IpOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-5-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTUtMiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNS0yLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiAnbGVuZ3RoJyBpcyAwIChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB0byBudWxsICh0eXBlIGNvbnZlcnNpb24pKSwgbm8gaW5pdFZhbCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgZi5sZW5ndGggPSBudWxsOw0KICANCiAgZnVuY3Rpb24gY2IoKXt9DQogIHRyeSB7DQogICAgZi5yZWR1Y2VSaWdodChjYik7DQogIH0NCiAgY2F0Y2ggKGUpIHsNCiAgICBpZiAoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikgew0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICB9DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-5-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTUtMyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNS0zLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiAnbGVuZ3RoJyBpcyAwIChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB0byBmYWxzZSAodHlwZSBjb252ZXJzaW9uKSksIG5vIGluaXRWYWwiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIGYubGVuZ3RoID0gZmFsc2U7DQogIA0KICBmdW5jdGlvbiBjYigpe30NCiAgdHJ5IHsNCiAgICBmLnJlZHVjZVJpZ2h0KGNiKTsNCiAgfQ0KICBjYXRjaCAoZSkgew0KICAgIGlmIChlIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-5-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTUtNCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNS00LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiAnbGVuZ3RoJyBpcyAwIChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB0byAwICh0eXBlIGNvbnZlcnNpb24pKSwgbm8gaW5pdFZhbCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgZi5sZW5ndGggPSAwOw0KICANCiAgZnVuY3Rpb24gY2IoKXt9DQogIHRyeSB7DQogICAgZi5yZWR1Y2VSaWdodChjYik7DQogIH0NCiAgY2F0Y2ggKGUpIHsNCiAgICBpZiAoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikgew0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICB9DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-5-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTUtNSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNS01LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiAnbGVuZ3RoJyBpcyAwIChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB0byAnMCcgKHR5cGUgY29udmVyc2lvbikpLCBubyBpbml0VmFsIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBuZXcgQXJyYXkoMSwgMiwgMyk7DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICBmLmxlbmd0aCA9ICcwJzsNCiAgDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGYucmVkdWNlUmlnaHQoY2IpOw0KICB9DQogIGNhdGNoIChlKSB7DQogICAgaWYgKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfQ0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-5-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTUtNiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNS02LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiAnbGVuZ3RoJyBpcyAwIChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB3aXRoIG9iaiB3aXRoIHZhbHVlT2YpLCBubyBpbml0VmFsIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBuZXcgQXJyYXkoMSwgMiwgMyk7DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICANCiAgdmFyIG8gPSB7IHZhbHVlT2Y6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDA7fX07DQogIGYubGVuZ3RoID0gbzsNCiAgDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGYucmVkdWNlUmlnaHQoY2IpOw0KICB9DQogIGNhdGNoIChlKSB7DQogICAgaWYgKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfQ0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-5-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTUtNyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNS03LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiAnbGVuZ3RoJyBpcyAwIChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB3aXRoIG9iaiB3L28gdmFsdWVPZiAodG9TdHJpbmcpKSwgbm8gaW5pdFZhbCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgDQogIHZhciBvID0geyB0b1N0cmluZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gJzAnO319Ow0KICBmLmxlbmd0aCA9IG87DQogIA0KICAvLyBvYmplY3RzIGluaGVyaXQgdGhlIGRlZmF1bHQgdmFsdWVPZiBtZXRob2Qgb2YgdGhlIE9iamVjdCBvYmplY3Q7DQogIC8vIHRoYXQgc2ltcGx5IHJldHVybnMgdGhlIGl0c2VsZi4gU2luY2UgdGhlIGRlZmF1bHQgdmFsdWVPZigpIG1ldGhvZA0KICAvLyBkb2VzIG5vdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUsIEVTIG5leHQgdHJpZXMgdG8gY29udmVydCB0aGUgb2JqZWN0DQogIC8vIHRvIGEgbnVtYmVyIGJ5IGNhbGxpbmcgaXRzIHRvU3RyaW5nKCkgbWV0aG9kIGFuZCBjb252ZXJ0aW5nIHRoZQ0KICAvLyByZXN1bHRpbmcgc3RyaW5nIHRvIGEgbnVtYmVyLg0KDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGYucmVkdWNlUmlnaHQoY2IpOw0KICB9DQogIGNhdGNoIChlKSB7DQogICAgaWYgKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfQ0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-5-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTUtOCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNS04LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdGhyb3dzIFR5cGVFcnJvciBpZiAnbGVuZ3RoJyBpcyAwIChzdWJjbGFzc2VkIEFycmF5LCBsZW5ndGggb3ZlcnJpZGRlbiB3aXRoIFtdKSwgbm8gaW5pdFZhbCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgDQogIGYubGVuZ3RoID0gW107DQogIA0KICAvLyBvYmplY3RzIGluaGVyaXQgdGhlIGRlZmF1bHQgdmFsdWVPZiBtZXRob2Qgb2YgdGhlIE9iamVjdCBvYmplY3Q7DQogIC8vIHRoYXQgc2ltcGx5IHJldHVybnMgdGhlIGl0c2VsZi4gU2luY2UgdGhlIGRlZmF1bHQgdmFsdWVPZigpIG1ldGhvZA0KICAvLyBkb2VzIG5vdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUsIEVTIG5leHQgdHJpZXMgdG8gY29udmVydCB0aGUgb2JqZWN0DQogIC8vIHRvIGEgbnVtYmVyIGJ5IGNhbGxpbmcgaXRzIHRvU3RyaW5nKCkgbWV0aG9kIGFuZCBjb252ZXJ0aW5nIHRoZQ0KICAvLyByZXN1bHRpbmcgc3RyaW5nIHRvIGEgbnVtYmVyLg0KICAvLw0KICAvLyBUaGUgdG9TdHJpbmcoICkgbWV0aG9kIG9uIEFycmF5IGNvbnZlcnRzIHRoZSBhcnJheSBlbGVtZW50cyB0byBzdHJpbmdzLA0KICAvLyB0aGVuIHJldHVybnMgdGhlIHJlc3VsdCBvZiBjb25jYXRlbmF0aW5nIHRoZXNlIHN0cmluZ3MsIHdpdGggY29tbWFzIGluDQogIC8vIGJldHdlZW4uIEFuIGFycmF5IHdpdGggbm8gZWxlbWVudHMgY29udmVydHMgdG8gdGhlIGVtcHR5IHN0cmluZywgd2hpY2gNCiAgLy8gY29udmVydHMgdG8gdGhlIG51bWJlciAwLiBJZiBhbiBhcnJheSBoYXMgYSBzaW5nbGUgZWxlbWVudCB0aGF0IGlzIGENCiAgLy8gbnVtYmVyIG4sIHRoZSBhcnJheSBjb252ZXJ0cyB0byBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBuLCB3aGljaCBpcw0KICAvLyB0aGVuIGNvbnZlcnRlZCBiYWNrIHRvIG4gaXRzZWxmLiBJZiBhbiBhcnJheSBjb250YWlucyBtb3JlIHRoYW4gb25lIGVsZW1lbnQsDQogIC8vIG9yIGlmIGl0cyBvbmUgZWxlbWVudCBpcyBub3QgYSBudW1iZXIsIHRoZSBhcnJheSBjb252ZXJ0cyB0byBOYU4uDQoNCiAgZnVuY3Rpb24gY2IoKXt9DQogIHRyeSB7DQogICAgZi5yZWR1Y2VSaWdodChjYik7DQogIH0NCiAgY2F0Y2ggKGUpIHsNCiAgICBpZiAoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikgew0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICB9DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-5-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNS05IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNS05LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gJ2luaXRpYWxWYWx1ZScgaXMgcmV0dXJuZWQgaWYgJ2xlbicgaXMgMCBhbmQgJ2luaXRpYWxWYWx1ZScgaXMgcHJlc2VudCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgaW5pdGlhbFZhbHVlID0gMTA7DQogICAgICAgIHJldHVybiBpbml0aWFsVmFsdWUgPT09IFtdLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uICgpIHsgfSwgaW5pdGlhbFZhbHVlKTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-7-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTctMSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNy0xLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgcmV0dXJucyBpbml0aWFsVmFsdWUgaWYgJ2xlbmd0aCcgaXMgMCBhbmQgaW5pdGlhbFZhbHVlIGlzIHByZXNlbnQgKGVtcHR5IGFycmF5KSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmdW5jdGlvbiBjYigpe30NCiAgDQogIHRyeSB7DQogICAgaWYoW10ucmVkdWNlUmlnaHQoY2IsMSkgPT09IDEpDQogICAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KICBjYXRjaCAoZSkgeyAgfSAgDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-7-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNy0xMCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTctMTAuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSAnaW5pdGlhbFZhbHVlJyBpcyBwcmVzZW50IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBzdHIgPSAiaW5pdGlhbFZhbHVlIGlzIHByZXNlbnQiOw0KICAgICAgICByZXR1cm4gc3RyID09PSBbXS5yZWR1Y2VSaWdodChmdW5jdGlvbiAoKSB7IH0sIHN0cik7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-7-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItNy0xMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTctMTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSAnaW5pdGlhbFZhbHVlJyBpcyBub3QgcHJlc2VudCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgc3RyID0gImluaXRpYWxWYWx1ZSBpcyBub3QgcHJlc2VudCI7DQogICAgICAgIHJldHVybiBzdHIgPT09IFtzdHJdLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uICgpIHsgfSk7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-7-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTctMiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNy0yLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgcmV0dXJucyBpbml0aWFsVmFsdWUgaWYgJ2xlbmd0aCcgaXMgMCBhbmQgaW5pdGlhbFZhbHVlIGlzIHByZXNlbnQgKHN1YmNsYXNzZWQgQXJyYXksIGxlbmd0aCBvdmVycmlkZGVuIHRvIG51bGwgKHR5cGUgY29udmVyc2lvbikpIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBuZXcgQXJyYXkoMSwgMiwgMyk7DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICBmLmxlbmd0aCA9IG51bGw7DQogIA0KICBmdW5jdGlvbiBjYigpe30NCiAgdHJ5IHsNCiAgICBpZihmLnJlZHVjZVJpZ2h0KGNiLDEpID09PSAxKQ0KICAgICAgcmV0dXJuIHRydWU7DQogIH0NCiAgY2F0Y2ggKGUpIHsgIH0gIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-7-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTctMyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNy0zLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgcmV0dXJucyBpbml0aWFsVmFsdWUgaWYgJ2xlbmd0aCcgaXMgMCBhbmQgaW5pdGlhbFZhbHVlIGlzIHByZXNlbnQgKHN1YmNsYXNzZWQgQXJyYXksIGxlbmd0aCBvdmVycmlkZGVuIHRvIGZhbHNlICh0eXBlIGNvbnZlcnNpb24pKSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgZi5sZW5ndGggPSBmYWxzZTsNCiAgDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGlmKGYucmVkdWNlUmlnaHQoY2IsMSkgPT09IDEpDQogICAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KICBjYXRjaCAoZSkgeyAgfSAgDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-7-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTctNCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNy00LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgcmV0dXJucyBpbml0aWFsVmFsdWUgaWYgJ2xlbmd0aCcgaXMgMCBhbmQgaW5pdGlhbFZhbHVlIGlzIHByZXNlbnQgKHN1YmNsYXNzZWQgQXJyYXksIGxlbmd0aCBvdmVycmlkZGVuIHRvIDAgKHR5cGUgY29udmVyc2lvbikpIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBuZXcgQXJyYXkoMSwgMiwgMyk7DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICBmLmxlbmd0aCA9IDA7DQogIA0KICBmdW5jdGlvbiBjYigpe30NCiAgdHJ5IHsNCiAgICBpZihmLnJlZHVjZVJpZ2h0KGNiLDEpID09PSAxKQ0KICAgICAgcmV0dXJuIHRydWU7DQogIH0NCiAgY2F0Y2ggKGUpIHsgIH0gIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-7-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTctNSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNy01LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgcmV0dXJucyBpbml0aWFsVmFsdWUgaWYgJ2xlbmd0aCcgaXMgMCBhbmQgaW5pdGlhbFZhbHVlIGlzIHByZXNlbnQgKHN1YmNsYXNzZWQgQXJyYXksIGxlbmd0aCBvdmVycmlkZGVuIHRvICcwJyAodHlwZSBjb252ZXJzaW9uKSkiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIGYubGVuZ3RoID0gJzAnOw0KICANCiAgZnVuY3Rpb24gY2IoKXt9DQogIHRyeSB7DQogICAgaWYoZi5yZWR1Y2VSaWdodChjYiwxKSA9PT0gMSkNCiAgICAgIHJldHVybiB0cnVlOw0KICB9DQogIGNhdGNoIChlKSB7ICB9ICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-7-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTctNiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNy02LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgcmV0dXJucyBpbml0aWFsVmFsdWUgaWYgJ2xlbmd0aCcgaXMgMCBhbmQgaW5pdGlhbFZhbHVlIGlzIHByZXNlbnQgKHN1YmNsYXNzZWQgQXJyYXksIGxlbmd0aCBvdmVycmlkZGVuIHdpdGggb2JqIHdpdGggdmFsdWVPZikiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgZm9vLnByb3RvdHlwZSA9IG5ldyBBcnJheSgxLCAyLCAzKTsNCiAgZnVuY3Rpb24gZm9vKCkge30NCiAgdmFyIGYgPSBuZXcgZm9vKCk7DQogIA0KICB2YXIgbyA9IHsgdmFsdWVPZjogZnVuY3Rpb24gKCkgeyByZXR1cm4gMDt9fTsNCiAgZi5sZW5ndGggPSBvOw0KICANCiAgZnVuY3Rpb24gY2IoKXt9DQogIHRyeSB7DQogICAgaWYoZi5yZWR1Y2VSaWdodChjYiwxKSA9PT0gMSkNCiAgICAgIHJldHVybiB0cnVlOw0KICB9DQogIGNhdGNoIChlKSB7ICB9ICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-7-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTctNyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNy03LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgcmV0dXJucyBpbml0aWFsVmFsdWUgaWYgJ2xlbmd0aCcgaXMgMCBhbmQgaW5pdGlhbFZhbHVlIGlzIHByZXNlbnQgKHN1YmNsYXNzZWQgQXJyYXksIGxlbmd0aCBvdmVycmlkZGVuIHdpdGggb2JqIHcvbyB2YWx1ZU9mICh0b1N0cmluZykpIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBuZXcgQXJyYXkoMSwgMiwgMyk7DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICANCiAgdmFyIG8gPSB7IHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7IHJldHVybiAnMCc7fX07DQogIGYubGVuZ3RoID0gbzsNCiAgDQogIC8vIG9iamVjdHMgaW5oZXJpdCB0aGUgZGVmYXVsdCB2YWx1ZU9mIG1ldGhvZCBvZiB0aGUgT2JqZWN0IG9iamVjdDsNCiAgLy8gdGhhdCBzaW1wbHkgcmV0dXJucyB0aGUgaXRzZWxmLiBTaW5jZSB0aGUgZGVmYXVsdCB2YWx1ZU9mKCkgbWV0aG9kDQogIC8vIGRvZXMgbm90IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSwgRVMgbmV4dCB0cmllcyB0byBjb252ZXJ0IHRoZSBvYmplY3QNCiAgLy8gdG8gYSBudW1iZXIgYnkgY2FsbGluZyBpdHMgdG9TdHJpbmcoKSBtZXRob2QgYW5kIGNvbnZlcnRpbmcgdGhlDQogIC8vIHJlc3VsdGluZyBzdHJpbmcgdG8gYSBudW1iZXIuDQoNCiAgZnVuY3Rpb24gY2IoKXt9DQogIHRyeSB7DQogICAgaWYoZi5yZWR1Y2VSaWdodChjYiwxKSA9PT0gMSkNCiAgICAgIHJldHVybiB0cnVlOw0KICB9DQogIGNhdGNoIChlKSB7ICB9ICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-7-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTctOCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNy04LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgcmV0dXJucyBpbml0aWFsVmFsdWUgaWYgJ2xlbmd0aCcgaXMgMCBhbmQgaW5pdGlhbFZhbHVlIGlzIHByZXNlbnQgKHN1YmNsYXNzZWQgQXJyYXksIGxlbmd0aCBvdmVycmlkZGVuIHdpdGggW10pIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogIGZvby5wcm90b3R5cGUgPSBuZXcgQXJyYXkoMSwgMiwgMyk7DQogIGZ1bmN0aW9uIGZvbygpIHt9DQogIHZhciBmID0gbmV3IGZvbygpOw0KICANCiAgZi5sZW5ndGggPSBbXTsNCiAgDQogIC8vIG9iamVjdHMgaW5oZXJpdCB0aGUgZGVmYXVsdCB2YWx1ZU9mIG1ldGhvZCBvZiB0aGUgT2JqZWN0IG9iamVjdDsNCiAgLy8gdGhhdCBzaW1wbHkgcmV0dXJucyB0aGUgaXRzZWxmLiBTaW5jZSB0aGUgZGVmYXVsdCB2YWx1ZU9mKCkgbWV0aG9kDQogIC8vIGRvZXMgbm90IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSwgRVMgbmV4dCB0cmllcyB0byBjb252ZXJ0IHRoZSBvYmplY3QNCiAgLy8gdG8gYSBudW1iZXIgYnkgY2FsbGluZyBpdHMgdG9TdHJpbmcoKSBtZXRob2QgYW5kIGNvbnZlcnRpbmcgdGhlDQogIC8vIHJlc3VsdGluZyBzdHJpbmcgdG8gYSBudW1iZXIuDQogIC8vDQogIC8vIFRoZSB0b1N0cmluZyggKSBtZXRob2Qgb24gQXJyYXkgY29udmVydHMgdGhlIGFycmF5IGVsZW1lbnRzIHRvIHN0cmluZ3MsDQogIC8vIHRoZW4gcmV0dXJucyB0aGUgcmVzdWx0IG9mIGNvbmNhdGVuYXRpbmcgdGhlc2Ugc3RyaW5ncywgd2l0aCBjb21tYXMgaW4NCiAgLy8gYmV0d2Vlbi4gQW4gYXJyYXkgd2l0aCBubyBlbGVtZW50cyBjb252ZXJ0cyB0byB0aGUgZW1wdHkgc3RyaW5nLCB3aGljaA0KICAvLyBjb252ZXJ0cyB0byB0aGUgbnVtYmVyIDAuIElmIGFuIGFycmF5IGhhcyBhIHNpbmdsZSBlbGVtZW50IHRoYXQgaXMgYQ0KICAvLyBudW1iZXIgbiwgdGhlIGFycmF5IGNvbnZlcnRzIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIG4sIHdoaWNoIGlzDQogIC8vIHRoZW4gY29udmVydGVkIGJhY2sgdG8gbiBpdHNlbGYuIElmIGFuIGFycmF5IGNvbnRhaW5zIG1vcmUgdGhhbiBvbmUgZWxlbWVudCwNCiAgLy8gb3IgaWYgaXRzIG9uZSBlbGVtZW50IGlzIG5vdCBhIG51bWJlciwgdGhlIGFycmF5IGNvbnZlcnRzIHRvIE5hTi4NCg0KICBmdW5jdGlvbiBjYigpe30NCiAgdHJ5IHsNCiAgICBpZihmLnJlZHVjZVJpZ2h0KGNiLDEpID09PSAxKQ0KICAgICAgcmV0dXJuIHRydWU7DQogIH0NCiAgY2F0Y2ggKGUpIHsgIH0gIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-7-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTctOSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItNy05LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgcmV0dXJucyBpbml0aWFsVmFsdWUgaWYgJ2xlbmd0aCcgaXMgMCBhbmQgaW5pdGlhbFZhbHVlIGlzIHByZXNlbnQgKHN1YmNsYXNzZWQgQXJyYXksIGxlbmd0aCBvdmVycmlkZGVuIHdpdGggWzBdKSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICBmb28ucHJvdG90eXBlID0gbmV3IEFycmF5KDEsIDIsIDMpOw0KICBmdW5jdGlvbiBmb28oKSB7fQ0KICB2YXIgZiA9IG5ldyBmb28oKTsNCiAgDQogIGYubGVuZ3RoID0gWzBdOw0KICANCiAgLy8gb2JqZWN0cyBpbmhlcml0IHRoZSBkZWZhdWx0IHZhbHVlT2YgbWV0aG9kIG9mIHRoZSBPYmplY3Qgb2JqZWN0Ow0KICAvLyB0aGF0IHNpbXBseSByZXR1cm5zIHRoZSBpdHNlbGYuIFNpbmNlIHRoZSBkZWZhdWx0IHZhbHVlT2YoKSBtZXRob2QNCiAgLy8gZG9lcyBub3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLCBFUyBuZXh0IHRyaWVzIHRvIGNvbnZlcnQgdGhlIG9iamVjdA0KICAvLyB0byBhIG51bWJlciBieSBjYWxsaW5nIGl0cyB0b1N0cmluZygpIG1ldGhvZCBhbmQgY29udmVydGluZyB0aGUNCiAgLy8gcmVzdWx0aW5nIHN0cmluZyB0byBhIG51bWJlci4NCiAgLy8NCiAgLy8gVGhlIHRvU3RyaW5nKCApIG1ldGhvZCBvbiBBcnJheSBjb252ZXJ0cyB0aGUgYXJyYXkgZWxlbWVudHMgdG8gc3RyaW5ncywNCiAgLy8gdGhlbiByZXR1cm5zIHRoZSByZXN1bHQgb2YgY29uY2F0ZW5hdGluZyB0aGVzZSBzdHJpbmdzLCB3aXRoIGNvbW1hcyBpbg0KICAvLyBiZXR3ZWVuLiBBbiBhcnJheSB3aXRoIG5vIGVsZW1lbnRzIGNvbnZlcnRzIHRvIHRoZSBlbXB0eSBzdHJpbmcsIHdoaWNoDQogIC8vIGNvbnZlcnRzIHRvIHRoZSBudW1iZXIgMC4gSWYgYW4gYXJyYXkgaGFzIGEgc2luZ2xlIGVsZW1lbnQgdGhhdCBpcyBhDQogIC8vIG51bWJlciBuLCB0aGUgYXJyYXkgY29udmVydHMgdG8gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2Ygbiwgd2hpY2ggaXMNCiAgLy8gdGhlbiBjb252ZXJ0ZWQgYmFjayB0byBuIGl0c2VsZi4gSWYgYW4gYXJyYXkgY29udGFpbnMgbW9yZSB0aGFuIG9uZSBlbGVtZW50LA0KICAvLyBvciBpZiBpdHMgb25lIGVsZW1lbnQgaXMgbm90IGEgbnVtYmVyLCB0aGUgYXJyYXkgY29udmVydHMgdG8gTmFOLg0KDQogIGZ1bmN0aW9uIGNiKCl7fQ0KICB0cnkgew0KICAgIGlmKGYucmVkdWNlUmlnaHQoY2IsMSkgPT09IDEpDQogICAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KICBjYXRjaCAoZSkgeyAgfSAgDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-8-b-ii-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpLTEiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWItaWktMS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGFkZGVkIHByb3BlcnRpZXMgaW4gc3RlcCAyIGFyZSB2aXNpYmxlIGhlcmUiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9iaiA9IHt9Ow0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgeyB9DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIG9ialsyXSA9ICJhY2N1bXVsYXRvciI7DQogICAgICAgICAgICAgICAgcmV0dXJuIDM7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4pID09PSAiYWNjdW11bGF0b3IiOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-8-b-ii-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpLTIiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWItaWktMi5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGRlbGV0ZWQgcHJvcGVydGllcyBpbiBzdGVwIDIgYXJlIHZpc2libGUgaGVyZSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgb2JqID0geyAyOiAiYWNjdW11bGF0b3IiLCAzOiAiYW5vdGhlciIgfTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgZGVsZXRlIG9ialsyXTsNCiAgICAgICAgICAgICAgICByZXR1cm4gNTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuICJhY2N1bXVsYXRvciIgIT09IEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgZnVuY3Rpb24gKCkgeyB9KTsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-8-b-iii-1-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTEiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWItaWlpLTEtMS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGVsZW1lbnQgdG8gYmUgcmV0cmlldmVkIGlzIG93biBkYXRhIHByb3BlcnR5IG9uIGFuIEFycmF5LWxpa2Ugb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMCkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAocHJldlZhbCA9PT0gMSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAwLCAxOiAxLCBsZW5ndGg6IDIgfTsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4pOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-8-b-iii-1-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTIiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWItaWlpLTEtMi5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGVsZW1lbnQgdG8gYmUgcmV0cmlldmVkIGlzIG93biBkYXRhIHByb3BlcnR5IG9uIGFuIEFycmF5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAocHJldlZhbCA9PT0gMik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgYXJyID0gWzAsIDEsIDJdOw0KDQogICAgICAgIGFyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-8-b-iii-1-25"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTI1IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOC1iLWlpaS0xLTI1LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gVGhpcyBvYmplY3QgaXMgdGhlIEFyZ3VtZW50cyBvYmplY3Qgd2hpY2ggaW1wbGVtZW50cyBpdHMgb3duIHByb3BlcnR5IGdldCBtZXRob2QgKG51bWJlciBvZiBhcmd1bWVudHMgaXMgbGVzcyB0aGFuIG51bWJlciBvZiBwYXJhbWV0ZXJzKSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGZ1bmMgPSBmdW5jdGlvbiAoYSwgYiwgYykgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoYXJndW1lbnRzLCBjYWxsYmFja2ZuKTsNCiAgICAgICAgfTsNCg0KICAgICAgICBmdW5jKDAsIDEpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-8-b-iii-1-26"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTI2IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOC1iLWlpaS0xLTI2LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gVGhpcyBvYmplY3QgaXMgdGhlIEFyZ3VtZW50cyBvYmplY3Qgd2hpY2ggaW1wbGVtZW50cyBpdHMgb3duIHByb3BlcnR5IGdldCBtZXRob2QgKG51bWJlciBvZiBhcmd1bWVudHMgZXF1YWxzIG51bWJlciBvZiBwYXJhbWV0ZXJzKSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IDIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGZ1bmMgPSBmdW5jdGlvbiAoYSwgYiwgYykgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoYXJndW1lbnRzLCBjYWxsYmFja2ZuKTsNCiAgICAgICAgfTsNCg0KICAgICAgICBmdW5jKDAsIDEsIDIpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-8-b-iii-1-27"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTI3IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOC1iLWlpaS0xLTI3LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gVGhpcyBvYmplY3QgaXMgdGhlIEFyZ3VtZW50cyBvYmplY3Qgd2hpY2ggaW1wbGVtZW50cyBpdHMgb3duIHByb3BlcnR5IGdldCBtZXRob2QgKG51bWJlciBvZiBhcmd1bWVudHMgaXMgZ3JlYXRlciB0aGFuIG51bWJlciBvZiBwYXJhbWV0ZXJzKSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDIpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IDMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGZ1bmMgPSBmdW5jdGlvbiAoYSwgYiwgYykgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoYXJndW1lbnRzLCBjYWxsYmFja2ZuKTsNCiAgICAgICAgfTsNCg0KICAgICAgICBmdW5jKDAsIDEsIDIsIDMpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-8-b-iii-1-28"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTI4IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOC1iLWlpaS0xLTI4LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gU3RyaW5nIG9iamVjdCwgd2hpY2ggaW1wbGVtZW50cyBpdHMgb3duIHByb3BlcnR5IGdldCBtZXRob2QiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChwcmV2VmFsID09PSAiMiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHN0ciA9IG5ldyBTdHJpbmcoIjAxMiIpOw0KDQogICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKHN0ciwgY2FsbGJhY2tmbik7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KDQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-8-b-iii-1-29"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTI5IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOC1iLWlpaS0xLTI5LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IGFwcGxpZWQgdG8gRnVuY3Rpb24gb2JqZWN0IHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAocHJldlZhbCA9PT0gMik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsNCiAgICAgICAgICAgIHJldHVybiBhICsgYiArIGM7DQogICAgICAgIH07DQoNCiAgICAgICAgb2JqWzBdID0gMDsNCiAgICAgICAgb2JqWzFdID0gMTsNCiAgICAgICAgb2JqWzJdID0gMjsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4pOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCg0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-8-b-iii-1-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTMiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWItaWlpLTEtMy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGVsZW1lbnQgdG8gYmUgcmV0cmlldmVkIGlzIG93biBkYXRhIHByb3BlcnR5IHRoYXQgb3ZlcnJpZGVzIGFuIGluaGVyaXRlZCBkYXRhIHByb3BlcnR5IG9uIGFuIEFycmF5LWxpa2Ugb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAocHJldlZhbCA9PT0gIjIwIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgcHJvdG8gPSB7IDA6IDAsIDE6IDEsIDI6IDIsIGxlbmd0aDogMiB9Ow0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KICAgICAgICBjaGlsZFsxXSA9ICIxMCI7DQogICAgICAgIGNoaWxkWzJdID0gIjIwIjsNCiAgICAgICAgY2hpbGQubGVuZ3RoID0gMzsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChjaGlsZCwgY2FsbGJhY2tmbik7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KDQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-8-b-iii-1-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTQiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWItaWlpLTEtNC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGVsZW1lbnQgdG8gYmUgcmV0cmlldmVkIGlzIG93biBkYXRhIHByb3BlcnR5IHRoYXQgb3ZlcnJpZGVzIGFuIGluaGVyaXRlZCBkYXRhIHByb3BlcnR5IG9uIGFuIEFycmF5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAocHJldlZhbCA9PT0gMik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlWzJdID0gIjExIjsNCiAgICAgICAgICAgIFswLCAxLCAyXS5yZWR1Y2VSaWdodChjYWxsYmFja2ZuKTsNCiAgICAgICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KDQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBkZWxldGUgQXJyYXkucHJvdG90eXBlWzJdOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-8-b-iii-1-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTciLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWItaWlpLTEtNy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGVsZW1lbnQgdG8gYmUgcmV0cmlldmVkIGlzIGluaGVyaXRlZCBkYXRhIHByb3BlcnR5IG9uIGFuIEFycmF5LWxpa2Ugb2JqZWN0IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAocHJldlZhbCA9PT0gMik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgcHJvdG8gPSB7IDA6IDAsIDE6IDEsIDI6IDIsIGxlbmd0aDogMyB9Ow0KICAgICAgICB2YXIgQ29uID0gZnVuY3Rpb24gKCkgeyB9Ow0KICAgICAgICBDb24ucHJvdG90eXBlID0gcHJvdG87DQoNCiAgICAgICAgdmFyIGNoaWxkID0gbmV3IENvbigpOw0KDQogICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKGNoaWxkLCBjYWxsYmFja2ZuKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-8-b-iii-1-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1iLWlpaS0xLTgiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWItaWlpLTEtOC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGVsZW1lbnQgdG8gYmUgcmV0cmlldmVkIGlzIGluaGVyaXRlZCBkYXRhIHByb3BlcnR5IG9uIGFuIEFycmF5IiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAocHJldlZhbCA9PT0gMik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlWzBdID0gMDsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZVsxXSA9IDE7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGVbMl0gPSAyOw0KICAgICAgICAgICAgWywgLCAsXS5yZWR1Y2VSaWdodChjYWxsYmFja2ZuKTsNCiAgICAgICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KDQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBkZWxldGUgQXJyYXkucHJvdG90eXBlWzBdOw0KICAgICAgICAgICAgZGVsZXRlIEFycmF5LnByb3RvdHlwZVsxXTsNCiAgICAgICAgICAgIGRlbGV0ZSBBcnJheS5wcm90b3R5cGVbMl07DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmICFbLCAxXS5oYXNPd25Qcm9wZXJ0eSgwKTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-8-c-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTgtYy0xIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWMtMS5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IHRocm93cyBUeXBlRXJyb3Igd2hlbiBBcnJheSBpcyBlbXB0eSBhbmQgaW5pdGlhbFZhbHVlIGlzIG5vdCBwcmVzZW50IiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7IA0KIA0KICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopDQogIHsNCiAgfQ0KDQogIHZhciBhcnIgPSBuZXcgQXJyYXkoMTApOw0KICB0cnkgew0KICAgIGFyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuKTsNCiAgfSANCiAgY2F0Y2goZSkgew0KICAgIGlmKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpDQogICAgICByZXR1cm4gdHJ1ZTsgIA0KICB9DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-8-c-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTgtYy0yIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWMtMi5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IHRocm93cyBUeXBlRXJyb3Igd2hlbiBlbGVtZW50cyBhc3NpZ25lZCB2YWx1ZXMgYXJlIGRlbGV0ZWQgYnkgcmVkdWNpZ24gYXJyYXkgbGVuZ3RoIGFuZCBpbml0aWFsVmFsdWUgaXMgbm90IHByZXNlbnQiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsgDQogDQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikNCiAgew0KICB9DQoNCiAgdmFyIGFyciA9IG5ldyBBcnJheSgxMCk7DQogIGFycls5XSA9IDE7DQogIGFyci5sZW5ndGggPSA1Ow0KICB0cnkgew0KICAgIGFyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuKTsNCiAgfSANCiAgY2F0Y2goZSkgew0KICAgIGlmKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpDQogICAgICByZXR1cm4gdHJ1ZTsgIA0KICB9DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-8-c-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTgtYy0zIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWMtMy5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IHRocm93cyBUeXBlRXJyb3Igd2hlbiBlbGVtZW50cyBhc3NpZ25lZCB2YWx1ZXMgYXJlIGRlbGV0ZWQgYW5kIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJlc2VudCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKQ0KICB7DQogIH0NCg0KICB2YXIgYXJyID0gWzEsMiwzLDQsNV07DQogIGRlbGV0ZSBhcnJbMF07DQogIGRlbGV0ZSBhcnJbMV07DQogIGRlbGV0ZSBhcnJbMl07DQogIGRlbGV0ZSBhcnJbM107DQogIGRlbGV0ZSBhcnJbNF07DQogIHRyeSB7DQogICAgYXJyLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4pOw0KICB9IA0KICBjYXRjaChlKSB7DQogICAgaWYoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikNCiAgICAgIHJldHVybiB0cnVlOyAgDQogIH0NCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-8-c-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1jLTQiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWMtNC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCBkb2Vzbid0IHRocm93IGVycm9yIHdoZW4gYXJyYXkgaGFzIG5vIG93biBwcm9wZXJ0aWVzIGJ1dCBwcm90b3R5cGUgY29udGFpbnMgYSBzaW5nbGUgcHJvcGVydHkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFyciA9IFssICwgLCBdOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGVbMV0gPSAicHJvdG90eXBlIjsNCiAgICAgICAgICAgIGFyci5yZWR1Y2VSaWdodChmdW5jdGlvbiAoKSB7IH0pOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gY2F0Y2ggKGV4KSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBkZWxldGUgQXJyYXkucHJvdG90eXBlWzFdOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSAmJiAhWywgMV0uaGFzT3duUHJvcGVydHkoMCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-8-c-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1jLTUiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWMtNS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIHNpZGUgZWZmZWN0cyBwcm9kdWNlZCBieSBzdGVwIDIgYXJlIHZpc2libGUgd2hlbiBhbiBleGNlcHRpb24gb2NjdXJzIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7IH07DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQoNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImxlbmd0aCIsIHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICByZXR1cm4gMjsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgZnVuY3Rpb24gKCkgeyB9KTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBjYXRjaCAoZXgpIHsNCiAgICAgICAgICAgIHJldHVybiAoZXggaW5zdGFuY2VvZiBUeXBlRXJyb3IpICYmIGFjY2Vzc2VkOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-8-c-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1jLTYiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWMtNi5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIHNpZGUgZWZmZWN0cyBwcm9kdWNlZCBieSBzdGVwIDMgYXJlIHZpc2libGUgd2hlbiBhbiBleGNlcHRpb24gb2NjdXJzIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBvYmogPSB7fTsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiMiI7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBmdW5jdGlvbiAoKSB7IH0pOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuIChleCBpbnN0YW5jZW9mIFR5cGVFcnJvcikgJiYgYWNjZXNzZWQ7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-8-c-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1jLTciLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWMtNy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIHRoZSBleGNlcHRpb24gaXMgbm90IHRocm93biBpZiBleGNlcHRpb24gd2FzIHRocm93biBieSBzdGVwIDIiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9iaiA9IHt9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgZnVuY3Rpb24gKCkgeyB9KTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBjYXRjaCAoZXgpIHsNCiAgICAgICAgICAgIHJldHVybiAhKGV4IGluc3RhbmNlb2YgVHlwZUVycm9yKTsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCkgJiYgZm5FeGlzdHMoT2JqZWN0LmRlZmluZVByb3BlcnR5KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-8-c-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOC1jLTgiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi04LWMtOC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIHRoZSBleGNlcHRpb24gaXMgbm90IHRocm93biBpZiBleGNlcHRpb24gd2FzIHRocm93biBieSBzdGVwIDMiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIG9iaiA9IHt9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBmdW5jdGlvbiAoKSB7IH0pOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuICEoZXggaW5zdGFuY2VvZiBUeXBlRXJyb3IpOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSAmJiBmbkV4aXN0cyhPYmplY3QuZGVmaW5lUHJvcGVydHkpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KICAgIGlkOiAiMTUuNC40LjIyLTktMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTktMS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCBkb2Vzbid0IGNvbnNpZGVyIG5ldyBlbGVtZW50cyB3aGljaCBpbmRleCBpcyBsYXJnZXIgdGhhbiBhcnJheSBvcmlnaW5hbCBsZW5ndGggYWRkZWQgdG8gYXJyYXkgYWZ0ZXIgaXQgaXMgY2FsbGVkLCBjb25zaWRlciBuZXcgZWxlbWVudHMgd2hpY2ggaW5kZXggaXMgc21hbGxlciB0aGFuIGFycmF5IGxlbmd0aCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhcnJbNV0gPSA2Ow0KICAgICAgICAgICAgYXJyWzJdID0gMzsNCiAgICAgICAgICAgIHJldHVybiBwcmV2VmFsICsgY3VyVmFsOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGFyciA9IFsnMScsIDIsICwgNCwgJzUnXTsNCiAgICAgICAgcmV0dXJuIGFyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuKSA9PT0gIjU0MzIxIjsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-9-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTktMiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS0yLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgY29uc2lkZXJzIG5ldyB2YWx1ZSBvZiBlbGVtZW50cyBpbiBhcnJheSBhZnRlciBpdCBpcyBjYWxsZWQiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsgDQogDQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikNCiAgew0KICAgIGFyclszXSA9IC0yOw0KICAgIGFyclswXSA9IC0xOw0KICAgIHJldHVybiBwcmV2VmFsICsgY3VyVmFsOw0KICB9DQoNCiAgdmFyIGFyciA9IFsxLDIsMyw0LDVdOw0KICBpZihhcnIucmVkdWNlUmlnaHQoY2FsbGJhY2tmbikgPT09IDEzKQ0KICAgIHJldHVybiB0cnVlOyAgDQogIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTktMyIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS0zLmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgZG9lc24ndCBjb25zaWRlciB1bnZpc2l0ZWQgZGVsZXRlZCBlbGVtZW50cyBpbiBhcnJheSBhZnRlciB0aGUgY2FsbCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSAgDQogIHsNCiAgICBkZWxldGUgYXJyWzFdOw0KICAgIGRlbGV0ZSBhcnJbNF07DQogICAgcmV0dXJuIHByZXZWYWwgKyBjdXJWYWw7ICAgIA0KICB9DQoNCiAgdmFyIGFyciA9IFsnMScsMiwzLDQsNV07DQogIGlmKGFyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuKSA9PT0gIjEyMSIgKSAgICAvLyB0d28gZWxlbWVudHMgZGVsZXRlZA0KICAgIHJldHVybiB0cnVlOyAgDQogIA0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTktNCIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS00LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgZG9lc24ndCBjb25zaWRlciB1bnZpc2l0ZWQgZGVsZXRlZCBlbGVtZW50cyB3aGVuIEFycmF5Lmxlbmd0aCBpcyBkZWNyZWFzZWQiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsgDQogDQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikNCiAgew0KICAgIGFyci5sZW5ndGggPSAyOw0KICAgIHJldHVybiBwcmV2VmFsICsgY3VyVmFsOw0KICB9DQoNCiAgdmFyIGFyciA9IFsxLDIsMyw0LDVdOw0KICBpZihhcnIucmVkdWNlUmlnaHQoY2FsbGJhY2tmbikgPT09IDEyICkNCiAgICByZXR1cm4gdHJ1ZTsgIA0KICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTktNSIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS01LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSBjYWxsYmFja2ZuIG5vdCBjYWxsZWQgZm9yIGFycmF5IHdpdGggb25lIGVsZW1lbnQiLA0KDQp0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsgDQogDQogIHZhciBjYWxsQ250ID0gMDsNCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKQ0KICB7DQogICAgY2FsbENudCsrOw0KICAgIHJldHVybiAyOw0KICB9DQoNCiAgdmFyIGFyciA9IFsxXTsNCiAgaWYoYXJyLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4pID09PSAxICYmIGNhbGxDbnQgPT09IDAgKQ0KICAgIHJldHVybiB0cnVlOyAgICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-6"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTktNiIsDQoNCnBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS02LmpzIiwNCg0KZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgdmlzaXRzIGRlbGV0ZWQgZWxlbWVudCBpbiBhcnJheSBhZnRlciB0aGUgY2FsbCB3aGVuIHNhbWUgaW5kZXggaXMgYWxzbyBwcmVzZW50IGluIHByb3RvdHlwZSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSAgDQogIHsNCiAgICBkZWxldGUgYXJyWzFdOw0KICAgIGRlbGV0ZSBhcnJbMl07DQogICAgcmV0dXJuIHByZXZWYWwgKyBjdXJWYWw7ICAgIA0KICB9DQogIEFycmF5LnByb3RvdHlwZVsyXSA9IDY7DQogIHZhciBhcnIgPSBbJzEnLDIsMyw0LDVdOw0KICB2YXIgcmVzID0gYXJyLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4pOw0KICBkZWxldGUgQXJyYXkucHJvdG90eXBlWzJdOw0KDQogIGlmKHJlcyA9PT0gIjE1MSIgKSAgICAvL29uZSBlbGVtZW50IGRlbGV0ZWQNCiAgICByZXR1cm4gdHJ1ZTsgIA0KICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-b-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTktYi0xIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWItMS5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IHJldHVybnMgaW5pdGlhbHZhbHVlIHdoZW4gQXJyYXkgaXMgZW1wdHkgYW5kIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJlc2VudCIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKQ0KICB7DQogIH0NCg0KICB2YXIgYXJyID0gbmV3IEFycmF5KDEwKTsNCiAgDQogIGlmKGFyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuLDUpID09PSA1KQ0KICAgIHJldHVybiB0cnVlOyAgDQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-9-b-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1iLTIiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWItMi5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGFkZGVkIHByb3BlcnRpZXMgaW4gc3RlcCAyIGFyZSB2aXNpYmxlIGhlcmUiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDIgJiYgY3VyVmFsID09PSAiMiIpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7fTsNCg0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAibGVuZ3RoIiwgew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgb2JqWzJdID0gIjIiOw0KICAgICAgICAgICAgICAgIHJldHVybiAzOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sICJpbml0aWFsVmFsdWUiKTsNCg0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-b-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1iLTMiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWItMy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGRlbGV0ZWQgcHJvcGVydGllcyBpbiBzdGVwIDIgYXJlIHZpc2libGUgaGVyZSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSB0cnVlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJlVmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAyKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMjogIjIiLCAzOiAxMCB9Ow0KDQogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICJsZW5ndGgiLCB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBkZWxldGUgb2JqWzJdOw0KICAgICAgICAgICAgICAgIHJldHVybiA1Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sICJpbml0aWFsVmFsdWUiKTsNCg0KICAgICAgICByZXR1cm4gYWNjZXNzZWQgJiYgdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpICYmIGZuRXhpc3RzKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTktYy0xIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtMS5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gY2FsbGJhY2tmbiBub3QgY2FsbGVkIGZvciBpbmRleGVzIG5ldmVyIGJlZW4gYXNzaWduZWQgdmFsdWVzIiwNCg0KdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7IA0KIA0KICB2YXIgY2FsbENudCA9IDA7DQogIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikNCiAgew0KICAgIGNhbGxDbnQrKzsNCiAgICByZXR1cm4gY3VyVmFsOw0KICB9DQoNCiAgdmFyIGFyciA9IG5ldyBBcnJheSgxMCk7DQogIGFyclswXSA9IGFyclsxXSA9IHVuZGVmaW5lZDsgLy9leHBsaWNpdGx5IGFzc2lnbmluZyBhIHZhbHVlDQogIGlmKCBhcnIucmVkdWNlUmlnaHQoY2FsbGJhY2tmbikgPT09IHVuZGVmaW5lZCAmJiBjYWxsQ250ID09PSAxKQ0KICAgIHJldHVybiB0cnVlOyAgICANCiB9LA0KDQpwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-i-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktMSIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTktYy1pLTEuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBvd24gZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheS1saWtlIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKGN1clZhbCA9PT0gMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAwLCAxOiAxLCAyOiAyLCBsZW5ndGg6IDIgfTsNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAiaW5pdGlhbFZhbHVlIik7DQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-i-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktMiIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTktYy1pLTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBvd24gZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKGN1clZhbCA9PT0gMSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgYXJyID0gWzAsIDEsIDJdOw0KICAgICAgICBhcnIucmVkdWNlUmlnaHQoY2FsbGJhY2tmbiwgImluaXRpYWxWYWx1ZSIpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-i-25"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktMjUiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaS0yNS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIFRoaXMgb2JqZWN0IGlzIHRoZSBBcmd1bWVudHMgb2JqZWN0IHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIChudW1iZXIgb2YgYXJndW1lbnRzIGlzIGxlc3MgdGhhbiBudW1iZXIgb2YgcGFyYW1ldGVycykiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChjdXJWYWwgPT09IDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGZ1bmMgPSBmdW5jdGlvbiAoYSwgYiwgYykgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoYXJndW1lbnRzLCBjYWxsYmFja2ZuLCAiaW5pdGlhbFZhbHVlIik7DQogICAgICAgIH07DQoNCiAgICAgICAgZnVuYygwLCAxKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-i-26"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktMjYiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaS0yNi5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIFRoaXMgb2JqZWN0IGlzIHRoZSBBcmd1bWVudHMgb2JqZWN0IHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIChudW1iZXIgb2YgYXJndW1lbnRzIGVxdWFscyBudW1iZXIgb2YgcGFyYW1ldGVycykiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAyKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChjdXJWYWwgPT09IDIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGZ1bmMgPSBmdW5jdGlvbiAoYSwgYiwgYykgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoYXJndW1lbnRzLCBjYWxsYmFja2ZuLCAiaW5pdGlhbFZhbHVlIik7DQogICAgICAgIH07DQoNCiAgICAgICAgZnVuYygwLCAxLCAyKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-i-27"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktMjciLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaS0yNy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIFRoaXMgb2JqZWN0IGlzIHRoZSBBcmd1bWVudHMgb2JqZWN0IHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIChudW1iZXIgb2YgYXJndW1lbnRzIGlzIGdyZWF0ZXIgdGhhbiBudW1iZXIgb2YgcGFyYW1ldGVycykiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAzKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChjdXJWYWwgPT09IDMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGZ1bmMgPSBmdW5jdGlvbiAoYSwgYiwgYykgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoYXJndW1lbnRzLCBjYWxsYmFja2ZuLCAiaW5pdGlhbFZhbHVlIik7DQogICAgICAgIH07DQoNCiAgICAgICAgZnVuYygwLCAxLCAyLCAzKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-i-28"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktMjgiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaS0yOC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCBhcHBsaWVkIHRvIFN0cmluZyBvYmplY3QsIHdoaWNoIGltcGxlbWVudHMgaXRzIG93biBwcm9wZXJ0eSBnZXQgbWV0aG9kIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAoY3VyVmFsID09PSAiMSIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHN0ciA9IG5ldyBTdHJpbmcoIjAxMiIpOw0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChzdHIsIGNhbGxiYWNrZm4sICJpbml0aWFsVmFsdWUiKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQoNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-i-29"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktMjkiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaS0yOS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCBhcHBsaWVkIHRvIEZ1bmN0aW9uIG9iamVjdCB3aGljaCBpbXBsZW1lbnRzIGl0cyBvd24gcHJvcGVydHkgZ2V0IG1ldGhvZCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICB2YXIgaW5pdGlhbFZhbHVlID0gMDsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAoaWR4ID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IChjdXJWYWwgPT09IDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7DQogICAgICAgICAgICByZXR1cm4gYSArIGIgKyBjOw0KICAgICAgICB9Ow0KICAgICAgICBvYmpbMF0gPSAwOw0KICAgICAgICBvYmpbMV0gPSAxOw0KICAgICAgICBvYmpbMl0gPSAyOw0KICAgICAgICBvYmpbM10gPSAzOw0KDQogICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgaW5pdGlhbFZhbHVlKTsNCiAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-i-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktMyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTktYy1pLTMuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBvd24gZGF0YSBwcm9wZXJ0eSB0aGF0IG92ZXJyaWRlcyBhbiBpbmhlcml0ZWQgZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheS1saWtlIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKGN1clZhbCA9PT0gIjEiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBwcm90byA9IHsgMDogMTAsIDE6IDExLCAyOiAxMiwgbGVuZ3RoOiAyIH07DQogICAgICAgIHZhciBDb24gPSBmdW5jdGlvbiAoKSB7IH07DQogICAgICAgIENvbi5wcm90b3R5cGUgPSBwcm90bzsNCg0KICAgICAgICB2YXIgY2hpbGQgPSBuZXcgQ29uKCk7DQogICAgICAgIGNoaWxkWzFdID0gIjEiOw0KICAgICAgICBjaGlsZFsyXSA9ICIyIjsNCiAgICAgICAgY2hpbGQubGVuZ3RoID0gMzsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChjaGlsZCwgY2FsbGJhY2tmbiwgImluaXRpYWxWYWx1ZSIpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCg0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-i-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktNCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTktYy1pLTQuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBvd24gZGF0YSBwcm9wZXJ0eSB0aGF0IG92ZXJyaWRlcyBhbiBpbmhlcml0ZWQgZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKGN1clZhbCA9PT0gMSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlWzFdID0gIjExIjsNCiAgICAgICAgICAgIFswLCAxLCAyXS5yZWR1Y2VSaWdodChjYWxsYmFja2ZuLCAiaW5pdGlhbFZhbHVlIik7DQogICAgICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCg0KICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgZGVsZXRlIEFycmF5LnByb3RvdHlwZVsxXTsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-i-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktNyIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTktYy1pLTcuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBpbmhlcml0ZWQgZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheS1saWtlIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKGN1clZhbCA9PT0gMSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgcHJvdG8gPSB7IDA6IDAsIDE6IDEsIDI6IDIgfTsNCiAgICAgICAgdmFyIENvbiA9IGZ1bmN0aW9uICgpIHsgfTsNCiAgICAgICAgQ29uLnByb3RvdHlwZSA9IHByb3RvOw0KDQogICAgICAgIHZhciBjaGlsZCA9IG5ldyBDb24oKTsNCiAgICAgICAgY2hpbGQubGVuZ3RoID0gMzsNCg0KICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChjaGlsZCwgY2FsbGJhY2tmbiwgImluaXRpYWxWYWx1ZSIpOw0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-i-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWktOCIsDQoNCiAgICBwYXRoOiAiVGVzdENhc2VzL2NoYXB0ZXIxNS8xNS40LzE1LjQuNC8xNS40LjQuMjIvMTUuNC40LjIyLTktYy1pLTguanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSBlbGVtZW50IHRvIGJlIHJldHJpZXZlZCBpcyBpbmhlcml0ZWQgZGF0YSBwcm9wZXJ0eSBvbiBhbiBBcnJheSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKGN1clZhbCA9PT0gMSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlWzBdID0gMDsNCiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZVsxXSA9IDE7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGVbMl0gPSAyOw0KICAgICAgICAgICAgWywgLCAsIF0ucmVkdWNlUmlnaHQoY2FsbGJhY2tmbiwgImluaXRpYWxWYWx1ZSIpOw0KICAgICAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQ7DQoNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGRlbGV0ZSBBcnJheS5wcm90b3R5cGVbMF07DQogICAgICAgICAgICBkZWxldGUgQXJyYXkucHJvdG90eXBlWzFdOw0KICAgICAgICAgICAgZGVsZXRlIEFycmF5LnByb3RvdHlwZVsyXTsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCkgJiYgIVssIDFdLmhhc093blByb3BlcnR5KDApOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-1"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTktYy1paS0xIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaWktMS5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gY2FsbGJhY2tmbiBjYWxsZWQgd2l0aCBjb3JyZWN0IHBhcmFtZXRlcnMgKGluaXRpYWx2YWx1ZSBub3QgcGFzc2VkKSIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKQ0KICB7DQogICAgaWYoaWR4KzEgPCBvYmoubGVuZ3RoICYmIG9ialtpZHhdID09PSBjdXJWYWwgJiYgb2JqW2lkeCsxXSA9PT0gcHJldlZhbCkNCiAgICAgIHJldHVybiBjdXJWYWw7DQogICAgZWxzZSANCiAgICAgIHJldHVybiBmYWxzZTsNCiAgfQ0KDQogIHZhciBhcnIgPSBbMCwxLHRydWUsbnVsbCxuZXcgT2JqZWN0KCksImZpdmUiXTsNCiAgaWYoIGFyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuKSA9PT0gMCkgDQogICAgcmV0dXJuIHRydWU7DQogfSwNCg0KcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KIH0NCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-ii-10"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTEwIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTEwLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gY2FsbGJhY2tmbiBpcyBjYWxsZWQgd2l0aCAxIGZvcm1hbCBwYXJhbWV0ZXIiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGNhbGxlZCA9IDA7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsKSB7DQogICAgICAgICAgICBjYWxsZWQrKzsNCiAgICAgICAgICAgIHJldHVybiBwcmV2VmFsOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIFsxMSwgMTJdLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4sIDEwMCkgPT09IDEwMCAmJiAyID09PSBjYWxsZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-ii-11"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTExIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTExLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gY2FsbGJhY2tmbiBpcyBjYWxsZWQgd2l0aCAyIGZvcm1hbCBwYXJhbWV0ZXIiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCkgew0KICAgICAgICAgICAgaWYgKHByZXZWYWwgPT09IDEwMCkgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGN1clZhbCA+IDEwOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIFsxMV0ucmVkdWNlUmlnaHQoY2FsbGJhY2tmbiwgMTAwKSA9PT0gdHJ1ZSAmJiB0ZXN0UmVzdWx0Ow0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-12"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTEyIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTEyLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gY2FsbGJhY2tmbiBpcyBjYWxsZWQgd2l0aCAzIGZvcm1hbCBwYXJhbWV0ZXIiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgdmFyIGFyciA9IFsxMSwgMTIsIDEzXTsNCiAgICAgICAgdmFyIGluaXRWYWwgPSA2Ljk5Ow0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgpIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDIpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IGluaXRWYWwpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGN1clZhbCA+IDEwICYmIGFyZ3VtZW50c1szXVtpZHhdID09PSBjdXJWYWw7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gYXJyLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4sIGluaXRWYWwpID09PSB0cnVlICYmIHRlc3RSZXN1bHQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-ii-13"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTEzIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTEzLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gY2FsbGJhY2tmbiBpcyBjYWxsZWQgd2l0aCA0IGZvcm1hbCBwYXJhbWV0ZXIiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFyciA9IFsxMSwgMTIsIDEzXTsNCiAgICAgICAgdmFyIGluaXRWYWwgPSA2Ljk5Ow0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMikgew0KICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSAocHJldlZhbCA9PT0gaW5pdFZhbCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gY3VyVmFsID4gMTAgJiYgb2JqW2lkeF0gPT09IGN1clZhbDsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBhcnIucmVkdWNlUmlnaHQoY2FsbGJhY2tmbiwgaW5pdFZhbCkgPT09IHRydWUgJiYgdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-14"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTE0IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTE0LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gY2FsbGJhY2tmbiB1c2VzIGFyZ3VtZW50cyIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXSA9PT0gMTAwICYmIGFyZ3VtZW50c1szXVthcmd1bWVudHNbMl1dID09PSBhcmd1bWVudHNbMV07DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gWzExXS5yZWR1Y2VSaWdodChjYWxsYmFja2ZuLCAxMDApID09PSB0cnVlOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-16"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTE2IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTE2LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gbm9uLWluZGV4ZWQgcHJvcGVydGllcyBhcmUgbm90IGNhbGxlZCBvbiBhbiBBcnJheS1saWtlIG9iamVjdCIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IGZhbHNlOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgaWYgKHByZXZWYWwgPT09IDggfHwgY3VyVmFsID09PSA4KSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgMTA6IDEyLCBub25faW5kZXhfcHJvcGVydHk6IDgsIGxlbmd0aDogMjAgfTsNCiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAiaW5pdGlhbFZhbHVlIik7DQogICAgICAgIHJldHVybiAhdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-17"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTE3IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTE3LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gJ2FjY3VtdWxhdG9yJyB1c2VkIGZvciBjdXJyZW50IGl0ZXJhdGlvbiBpcyB0aGUgcmVzdWx0IG9mIHByZXZpb3VzIGl0ZXJhdGlvbiBvbiBhbiBBcnJheSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYXJyID0gWzExLCAxMiwgMTNdOw0KICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IHRydWU7DQogICAgICAgIHZhciBpbml0VmFsID0gNi45OTsNCiAgICAgICAgdmFyIHByZVJlc3VsdCA9IGluaXRWYWw7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBpZiAocHJldlZhbCAhPT0gcHJlUmVzdWx0KSB7DQogICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcHJlUmVzdWx0ID0gY3VyVmFsOw0KICAgICAgICAgICAgcmV0dXJuIGN1clZhbDsNCiAgICAgICAgfQ0KDQogICAgICAgIGFyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuLCBpbml0VmFsKTsNCg0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-18"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTE4IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTE4LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gJ2FjY3VtdWxhdG9yJyB1c2VkIGZvciBmaXJzdCBpdGVyYXRpb24gaXMgdGhlIHZhbHVlIG9mICdpbml0aWFsVmFsdWUnIHdoZW4gaXQgaXMgcHJlc2VudCBvbiBhbiBBcnJheSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYXJyID0gWzExLCAxMl07DQogICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7DQogICAgICAgIHZhciBpbml0VmFsID0gNi45OTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IGluaXRWYWwpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGN1clZhbDsNCiAgICAgICAgfQ0KDQogICAgICAgIGFyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuLCBpbml0VmFsKTsNCg0KICAgICAgICByZXR1cm4gdGVzdFJlc3VsdDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-19"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTE5IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTE5LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdmFsdWUgb2YgJ2FjY3VtdWxhdG9yJyB1c2VkIGZvciBmaXJzdCBpdGVyYXRpb24gaXMgdGhlIHZhbHVlIG9mIG1heCBpbmRleCBwcm9wZXJ0eSB3aGljaCBpcyBub3QgdW5kZWZpbmVkIHdoZW4gJ2luaXRpYWxWYWx1ZScgaXMgbm90IHByZXNlbnQgb24gYW4gQXJyYXkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFyciA9IFsxMSwgMTIsIDEzXTsNCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IDEpIHsNCiAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gKHByZXZWYWwgPT09IDEzKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBjdXJWYWw7DQogICAgICAgIH0NCiAgICAgICAgYXJyLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4pOw0KDQogICAgICAgIHJldHVybiB0ZXN0UmVzdWx0Ow0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-2"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KICAgIGlkOiAiMTUuNC40LjIyLTktYy1paS0yIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTIuanMiLA0KDQogICAgZGVzY3JpcHRpb246ICJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgLSBjYWxsYmFja2ZuIGNhbGxlZCB3aXRoIGNvcnJlY3QgcGFyYW1ldGVycyAoaW5pdGlhbHZhbHVlIHBhc3NlZCkiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQogICAgICAgIHZhciBiUGFyQ29ycmVjdCA9IGZhbHNlOw0KICAgICAgICB2YXIgYXJyID0gWzAsIDEsIHRydWUsIG51bGwsIG5ldyBPYmplY3QoKSwgImZpdmUiXTsNCiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IDUuNTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPT09IG9iai5sZW5ndGggLSAxICYmIG9ialtpZHhdID09PSBjdXJWYWwgJiYgcHJldlZhbCA9PT0gaW5pdGlhbFZhbHVlKQ0KICAgICAgICAgICAgICAgIHJldHVybiBjdXJWYWw7DQogICAgICAgICAgICBlbHNlIGlmIChpZHggKyAxIDwgb2JqLmxlbmd0aCAmJiBvYmpbaWR4XSA9PT0gY3VyVmFsICYmIG9ialtpZHggKyAxXSA9PT0gcHJldlZhbCkNCiAgICAgICAgICAgICAgICByZXR1cm4gY3VyVmFsOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gYXJyLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4sIGluaXRpYWxWYWx1ZSkgPT09IDA7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-20"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTIwIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTIwLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdW5kZWZpbmVkIGNhbiBiZSB1c2VkIGFzIGFjY3VtdWxhdG9yIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcHJldlZhbCA9PT0gInVuZGVmaW5lZCI7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgbGVuZ3RoOiAxIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgdW5kZWZpbmVkKSA9PT0gdHJ1ZSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-21"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTIxIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTIxLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gbnVsbCBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gbnVsbDsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCBudWxsKSA9PT0gdHJ1ZSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-22"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTIyIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTIyLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gYm9vbGVhbiBwcmltaXRpdmUgY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgPT09IGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIGZhbHNlKSA9PT0gdHJ1ZSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-23"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTIzIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTIzLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gbnVtYmVyIHByaW1pdGl2ZSBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gMTI7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgbGVuZ3RoOiAxIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgMTIpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-24"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTI0IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTI0LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gc3RyaW5nIHByaW1pdGl2ZSBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gImhlbGxvXyI7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgbGVuZ3RoOiAxIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgImhlbGxvXyIpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-25"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTI1IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTI1LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gRnVuY3Rpb24gT2JqZWN0IGNhbiBiZSB1c2VkIGFzIGFjY3VtdWxhdG9yIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICB2YXIgb2JqRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7IH07DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgPT09IG9iakZ1bmN0aW9uOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIG9iakZ1bmN0aW9uKSA9PT0gdHJ1ZSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-26"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTI2IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTI2LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gQXJyYXkgT2JqZWN0IGNhbiBiZSB1c2VkIGFzIGFjY3VtdWxhdG9yIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICB2YXIgb2JqQXJyYXkgPSBbXTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqQXJyYXk7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgbGVuZ3RoOiAxIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgb2JqQXJyYXkpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-27"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTI3IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTI3LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gU3RyaW5nIE9iamVjdCBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIG9ialN0cmluZyA9IG5ldyBTdHJpbmcoKTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqU3RyaW5nOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIG9ialN0cmluZykgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-ii-28"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTI4IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTI4LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gQm9vbGVhbiBPYmplY3QgY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIHZhciBvYmpCb29sZWFuID0gbmV3IEJvb2xlYW4oKTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqQm9vbGVhbjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCBvYmpCb29sZWFuKSA9PT0gdHJ1ZSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-29"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTI5IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTI5LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gTnVtYmVyIE9iamVjdCBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIG9iak51bWJlciA9IG5ldyBOdW1iZXIoKTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqTnVtYmVyOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIG9iak51bWJlcikgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-ii-3"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3QoIHsNCmlkOiAiMTUuNC40LjIyLTktYy1paS0zIiwNCg0KcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaWktMy5qcyIsDQoNCmRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gY2FsbGJhY2tmbiB0YWtlcyA0IGFyZ3VtZW50cyIsDQoNCnRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgeyANCiANCiAgdmFyIGJDYWxsZWQgPSBmYWxzZTsNCiAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKQ0KICB7IA0KICAgIGJDYWxsZWQgPSB0cnVlOw0KICAgIGlmKHByZXZWYWwgPT09IHRydWUgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gNCkgICANCiAgICAgIHJldHVybiB0cnVlOw0KICAgIGVsc2UNCiAgICAgIHJldHVybiBmYWxzZTsNCiAgfQ0KICB2YXIgYXJyID0gWzAsMSwyLDMsNCw1LDYsNyw4LDldOw0KICBpZihhcnIucmVkdWNlUmlnaHQoY2FsbGJhY2tmbix0cnVlKSA9PT0gdHJ1ZSAmJiBiQ2FsbGVkID09PSB0cnVlKQ0KICAgIHJldHVybiB0cnVlOw0KIH0sDQoNCnByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiB9DQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-30"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTMwIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTMwLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdGhlIE1hdGggT2JqZWN0IGNhbiBiZSB1c2VkIGFzIGFjY3VtdWxhdG9yIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBwcmV2VmFsID09PSBNYXRoOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIE1hdGgpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-31"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTMxIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTMxLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gRGF0ZSBPYmplY3QgY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIHZhciBvYmpEYXRlID0gbmV3IERhdGUoKTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqRGF0ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCBvYmpEYXRlKSA9PT0gdHJ1ZSAmJiBhY2Nlc3NlZDsNCiAgICB9LA0KDQogICAgcHJlY29uZGl0aW9uOiBmdW5jdGlvbiBwcmVyZXEoKSB7DQogICAgICAgIHJldHVybiBmbkV4aXN0cyhBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpOw0KICAgIH0NCg0KfSk7DQo=]]></test>
    <test id="15.4.4.22-9-c-ii-32"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTMyIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTMyLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gUmVnRXhwIE9iamVjdCBjYW4gYmUgdXNlZCBhcyBhY2N1bXVsYXRvciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIG9ialJlZ0V4cCA9IG5ldyBSZWdFeHAoKTsNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gb2JqUmVnRXhwOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIG9ialJlZ0V4cCkgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-ii-33"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTMzIiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTMzLmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdGhlIEpTT04gY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgPT09IEpTT047DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgb2JqID0geyAwOiAxMSwgbGVuZ3RoOiAxIH07DQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgSlNPTikgPT09IHRydWUgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-ii-34"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTM0IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTM0LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gRXJyb3IgT2JqZWN0IGNhbiBiZSB1c2VkIGFzIGFjY3VtdWxhdG9yIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBhY2Nlc3NlZCA9IGZhbHNlOw0KICAgICAgICB2YXIgb2JqRXJyb3IgPSBuZXcgUmFuZ2VFcnJvcigpOw0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBwcmV2VmFsID09PSBvYmpFcnJvcjsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCBsZW5ndGg6IDEgfTsNCiAgICAgICAgDQoNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodC5jYWxsKG9iaiwgY2FsbGJhY2tmbiwgb2JqRXJyb3IpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-35"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTM1IiwNCg0KICAgIHBhdGg6ICJUZXN0Q2FzZXMvY2hhcHRlcjE1LzE1LjQvMTUuNC40LzE1LjQuNC4yMi8xNS40LjQuMjItOS1jLWlpLTM1LmpzIiwNCg0KICAgIGRlc2NyaXB0aW9uOiAiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0IC0gdGhlIEFyZ3VtZW50cyBvYmplY3QgY2FuIGJlIHVzZWQgYXMgYWNjdW11bGF0b3IiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIHZhciBhcmc7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gcHJldlZhbCA9PT0gYXJnOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIGxlbmd0aDogMSB9Ow0KDQogICAgICAgIChmdW5jdGlvbiBmdW4oKSB7DQogICAgICAgICAgICBhcmcgPSBhcmd1bWVudHM7DQogICAgICAgIH0oMTAsIDExLCAxMiwgMTMpKTsNCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCBhcmcpID09PSB0cnVlICYmIGFjY2Vzc2VkOw0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-4"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTQiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaWktNC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGsgdmFsdWVzIGFyZSBwYXNzZWQgaW4gYWNlbmRpbmcgbnVtZXJpYyBvcmRlciIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYXJyID0gWzAsIDEsIDIsIDMsIDQsIDVdOw0KICAgICAgICB2YXIgbGFzdElkeCA9IGFyci5sZW5ndGggLSAxOw0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7DQoNCiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2tmbihwcmV2VmFsLCBjdXJWYWwsIGlkeCwgb2JqKSB7DQogICAgICAgICAgICBhY2Nlc3NlZCA9IHRydWU7DQogICAgICAgICAgICBpZiAobGFzdElkeCAhPT0gaWR4KSB7DQogICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxhc3RJZHgtLTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBhcnIucmVkdWNlUmlnaHQoY2FsbGJhY2tmbiwgMSk7DQogICAgICAgIHJldHVybiByZXN1bHQgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-ii-5"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTUiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaWktNS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGsgdmFsdWVzIGFyZSBhY2Nlc3NlZCBkdXJpbmcgZWFjaCBpdGVyYXRpb24gYW5kIG5vdCBwcmlvciB0byBzdGFydGluZyB0aGUgbG9vcCBvbiBhbiBBcnJheSIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgICAgICAgdmFyIGFyciA9IFsxMSwgMTIsIDEzLCAxNF07DQogICAgICAgIHZhciBrSW5kZXggPSBbXTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7DQogICAgICAgIHZhciBjYWxsZWQgPSAwOw0KDQogICAgICAgIC8vQnkgYmVsb3cgd2F5LCB3ZSBjb3VsZCB2ZXJpZnkgdGhhdCBrIHdvdWxkIGJlIHNldHRlZCBhcyAwLCAxLCAuLi4sIGxlbmd0aCAtIDEgaW4gb3JkZXIsIGFuZCBlYWNoIHZhbHVlIHdpbGwgYmUgc2V0dGVkIG9uZSB0aW1lLg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZVZhbCwgY3VyVmFsLCBpZHgsIG8pIHsNCiAgICAgICAgICAgIC8vRWFjaCBwb3NpdGlvbiBzaG91bGQgYmUgdmlzaXRlZCBvbmUgdGltZSwgd2hpY2ggbWVhbnMgayBpcyBhY2Nlc3NlZCBvbmUgdGltZSBkdXJpbmcgaXRlcmF0aW9ucy4NCiAgICAgICAgICAgIGNhbGxlZCsrOw0KICAgICAgICAgICAgaWYgKHR5cGVvZiBrSW5kZXhbaWR4XSA9PT0gInVuZGVmaW5lZCIpIHsNCiAgICAgICAgICAgICAgICAvL3doZW4gY3VycmVudCBwb3NpdGlvbiBpcyB2aXNpdGVkLCBpdHMgbmV4dCBpbmRleCBzaG91bGQgaGFzIGJlZW4gdmlzaXRlZC4NCiAgICAgICAgICAgICAgICBpZiAoaWR4ICE9PSBhcnIubGVuZ3RoIC0gMSAmJiB0eXBlb2Yga0luZGV4W2lkeCArIDFdID09PSAidW5kZWZpbmVkIikgew0KICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAga0luZGV4W2lkeF0gPSAxOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGFyci5yZWR1Y2VSaWdodChjYWxsYmFja2ZuLCAxKTsNCiAgICAgICAgcmV0dXJuIHJlc3VsdCAmJiBjYWxsZWQgPT09IDQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-ii-7"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTciLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaWktNy5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIHVuaGFuZGxlZCBleGNlcHRpb25zIGhhcHBlbmVkIGluIGNhbGxiYWNrZm4gdGVybWluYXRlIGl0ZXJhdGlvbiIsDQoNCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCg0KICAgICAgICB2YXIgYWNjZXNzZWQgPSBmYWxzZTsNCg0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFja2ZuKHByZXZWYWwsIGN1clZhbCwgaWR4LCBvYmopIHsNCiAgICAgICAgICAgIGlmIChpZHggPCAxMCkgew0KICAgICAgICAgICAgICAgIGFjY2Vzc2VkID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChpZHggPT09IDEwKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFeGNlcHRpb24gb2NjdXJyZWQgaW4gY2FsbGJhY2tmbiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG9iaiA9IHsgMDogMTEsIDQ6IDEwLCAxMDogOCwgbGVuZ3RoOiAyMCB9Ow0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChvYmosIGNhbGxiYWNrZm4sIDEpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgcmV0dXJuICFhY2Nlc3NlZDsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBwcmVjb25kaXRpb246IGZ1bmN0aW9uIHByZXJlcSgpIHsNCiAgICAgICAgcmV0dXJuIGZuRXhpc3RzKEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCk7DQogICAgfQ0KDQp9KTsNCg==]]></test>
    <test id="15.4.4.22-9-c-ii-8"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTgiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaWktOC5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGVsZW1lbnQgY2hhbmdlZCBieSBjYWxsYmFja2ZuIG9uIHByZXZpb3VzIGl0ZXJhdGlvbnMgaXMgb2JzZXJ2ZWQiLA0KDQogICAgdGVzdDogZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQoNCiAgICAgICAgdmFyIGFjY2Vzc2VkID0gZmFsc2U7DQogICAgICAgIHZhciBvYmogPSB7IDA6IDExLCAxOiAxMiwgbGVuZ3RoOiAyIH07DQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4ocHJldlZhbCwgY3VyVmFsLCBpZHgsIG9iaikgew0KICAgICAgICAgICAgYWNjZXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgaWYgKGlkeCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIG9ialtpZHggLSAxXSA9IDg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gY3VyVmFsID4gMTA7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwob2JqLCBjYWxsYmFja2ZuLCAxKSA9PT0gZmFsc2UgJiYgYWNjZXNzZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
    <test id="15.4.4.22-9-c-ii-9"><![CDATA[RVM1SGFybmVzcy5yZWdpc3RlclRlc3Qoew0KDQogICAgaWQ6ICIxNS40LjQuMjItOS1jLWlpLTkiLA0KDQogICAgcGF0aDogIlRlc3RDYXNlcy9jaGFwdGVyMTUvMTUuNC8xNS40LjQvMTUuNC40LjIyLzE1LjQuNC4yMi05LWMtaWktOS5qcyIsDQoNCiAgICBkZXNjcmlwdGlvbjogIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAtIGNhbGxiYWNrZm4gaXMgY2FsbGVkIHdpdGggMCBmb3JtYWwgcGFyYW1ldGVyIiwNCg0KICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KDQogICAgICAgIHZhciBjYWxsZWQgPSAwOw0KDQogICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrZm4oKSB7DQogICAgICAgICAgICBjYWxsZWQrKzsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIFsxMSwgMTJdLnJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4sIDExKSA9PT0gdHJ1ZSAmJiAyID09PSBjYWxsZWQ7DQogICAgfSwNCg0KICAgIHByZWNvbmRpdGlvbjogZnVuY3Rpb24gcHJlcmVxKCkgew0KICAgICAgICByZXR1cm4gZm5FeGlzdHMoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KTsNCiAgICB9DQoNCn0pOw0K]]></test>
  </section>
</testCollection>